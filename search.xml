<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Stanford cs193p 01 | è¯¾ç¨‹ç®€ä»‹åŠSwiftUIå…¥é—¨</title>
    <url>/2024/11/21/Stanford-cs193p-01%EF%BD%9C%E8%AF%BE%E7%A8%8B%E7%AE%80%E4%BB%8B%E5%8F%8ASwiftUI%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 01 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<h2 id="0-è¯¾ç¨‹ä»‹ç»"><a href="#0-è¯¾ç¨‹ä»‹ç»" class="headerlink" title="0. è¯¾ç¨‹ä»‹ç»"></a>0. è¯¾ç¨‹ä»‹ç»</h2><blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<ul>
<li><strong>è¯¾ç¨‹ç½‘å€</strong>ï¼š<a href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></li>
<li><strong>swift è¯´æ˜æ–‡æ¡£</strong>ï¼š<a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/">è‹±æ–‡ç‰ˆ</a> ï½œ <a href="https://swift.bootcss.com/">ä¸­æ–‡ç‰ˆ</a></li>
</ul>
<h3 id="è¯¾ç¨‹è¦æ±‚-ğŸ“"><a href="#è¯¾ç¨‹è¦æ±‚-ğŸ“" class="headerlink" title="è¯¾ç¨‹è¦æ±‚ ğŸ“"></a>è¯¾ç¨‹è¦æ±‚ ğŸ“</h3><ul>
<li>å»ºè®®ï¼šå…·å¤‡ç¼–ç¨‹ç»éªŒï¼Œç†Ÿæ‚‰å¤šç§ç¼–ç¨‹è¯­è¨€</li>
<li>å¤‡æ³¨ï¼šä¸å…·å¤‡ç¼–ç¨‹ç»éªŒå­¦ä¹ å…·æœ‰æŒ‘æˆ˜</li>
</ul>
<h3 id="å­¦ä¹ å†…å®¹-ğŸ–¥ï¸"><a href="#å­¦ä¹ å†…å®¹-ğŸ–¥ï¸" class="headerlink" title="å­¦ä¹ å†…å®¹ ğŸ–¥ï¸"></a>å­¦ä¹ å†…å®¹ ğŸ–¥ï¸</h3><ul>
<li>ä½¿ç”¨ Xcode å¯¼èˆª</li>
<li>ç†è§£ SwiftUI ä¸åŠŸèƒ½æ€§ç¼–ç¨‹çš„ç»“æ„</li>
</ul>
<h3 id="ä¸»è¦é¡¹ç›®-ğŸ“š"><a href="#ä¸»è¦é¡¹ç›®-ğŸ“š" class="headerlink" title="ä¸»è¦é¡¹ç›® ğŸ“š"></a>ä¸»è¦é¡¹ç›® ğŸ“š</h3><ul>
<li>åˆ›å»ºå¡ç‰Œæ¸¸æˆåº”ç”¨ Memorize</li>
<li>åŠ¨ç”»ä¸ç”¨æˆ·ç•Œé¢è®¾è®¡</li>
</ul>
<hr>
<h2 id="1-SwiftUI-è§†å›¾æ„å»ºå’Œä»£ç ç»“æ„"><a href="#1-SwiftUI-è§†å›¾æ„å»ºå’Œä»£ç ç»“æ„" class="headerlink" title="1. SwiftUI è§†å›¾æ„å»ºå’Œä»£ç ç»“æ„"></a>1. SwiftUI è§†å›¾æ„å»ºå’Œä»£ç ç»“æ„</h2><h3 id="1-1-é¡¹ç›®å‡†å¤‡å·¥ä½œ"><a href="#1-1-é¡¹ç›®å‡†å¤‡å·¥ä½œ" class="headerlink" title="1.1 é¡¹ç›®å‡†å¤‡å·¥ä½œ"></a>1.1 é¡¹ç›®å‡†å¤‡å·¥ä½œ</h3><p>ç†Ÿæ‚‰ Xcode çš„å®‰è£…ä¸ä½¿ç”¨ã€‚æ–°å»ºé¡¹ç›®åŠæ–‡ä»¶ï¼Œå„ç±»æ–‡ä»¶çš„ä½œç”¨ä¸åŒºåˆ«ã€‚</p>
<ol>
<li>æ–°å»ºé¡¹ç›®ï¼šå¯¹äºé¡¹ç›®åå­—ã€ç»„ç»‡ä¸è¯†åˆ« ID çš„è¯´æ˜ã€‚</li>
<li>é…ç½®é¡¹ç›®å±æ€§ï¼šè®¾ç½®é¡¹ç›®è¿è¡Œçš„å¹³å°æœ‰å“ªäº›ã€‚</li>
<li>æ–°å»ºé¡¹ç›®æ—¶ç”Ÿæˆçš„å„æ–‡ä»¶ä»‹ç»ã€‚</li>
<li>é¢„è§ˆä»£ç åŠä»£ç å±æ€§ä¿®æ”¹å™¨çš„ä»‹ç»å’Œå…¶å®ƒä½¿ç”¨å°æŠ€å·§ç­‰ã€‚</li>
</ol>
<h3 id="1-2-å®ä¾‹æ¼”ç»ƒ"><a href="#1-2-å®ä¾‹æ¼”ç»ƒ" class="headerlink" title="1.2 å®ä¾‹æ¼”ç»ƒ"></a>1.2 å®ä¾‹æ¼”ç»ƒ</h3><p>å®Œæ•´çš„ â€œHello worldâ€ ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">        	<span class="type">Image</span>(systemName:<span class="string">&quot;globe&quot;</span>)</span><br><span class="line">        		.imageScale(.large)</span><br><span class="line">        		.foregroundStyle(.tint)</span><br><span class="line">        	<span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå°†æŒ‰ç…§ç”±ä¸Šè‡³ä¸‹ï¼Œç”±å¤–è‡³å†…çš„æ–¹å¼å¯¹è¿™ä¸€æ®µä»£ç è¿›è¡Œè§£é‡Šã€‚</p>
<h4 id="1-2-1-struct-å’Œ-View"><a href="#1-2-1-struct-å’Œ-View" class="headerlink" title="1.2.1 struct å’Œ View"></a>1.2.1 <code>struct</code> å’Œ <code>View</code></h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ª ContentView ç»“æ„ä½“ï¼Œå¹¶ç¬¦åˆ View åè®®</span></span><br><span class="line">    <span class="comment">//è¯¥ç»“æ„ä½“ç¬¦åˆ View åè®®æ„å‘³ç€ï¼šéœ€è¦æä¾›ä¸€ä¸ªå˜é‡ body</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="comment">//some Viewçš„æ„æ€æ˜¯è¿”å›è¡Œä¸ºä¸Viewç›¸ä¼¼çš„å…ƒç´ </span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>struct</code> ç»“æ„ä½“ï¼Œå®ƒæ˜¯ swiftUI çš„æ ¸å¿ƒã€‚Swift ä¸æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ (Objective-oriented programming)ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹ (Functional programming)ã€‚</li>
<li><code>ContentView</code> æ˜¯ç»“æ„ä½“çš„åç§°ï¼Œ<code>struct ContentView: View</code> æ„å‘³ç€ <code>ContentView</code> ç»“æ„ä½“åƒä¸€ä¸ª <code>View</code>ã€‚</li>
<li><code>View</code> å’Œ <code>some View</code> åŒºåˆ†ï¼šæ­¤å¤„çš„ View æ˜¯ä¸€ä¸ªåè®®ï¼ˆprotocolï¼‰ã€‚</li>
</ul>
<h4 id="1-2-2-var"><a href="#1-2-2-var" class="headerlink" title="1.2.2 var"></a>1.2.2 <code>var</code></h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="comment">//some Viewçš„æ„æ€æ˜¯è¿”å›è¡Œä¸ºä¸Viewç›¸ä¼¼çš„å…ƒç´ </span></span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>var</code>æ˜¯ä¸€ä¸ªå˜é‡çš„å…³é”®å­—ï¼Œbody æ˜¯å˜é‡åã€‚å…¶ä»–å˜é‡å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i: <span class="type">Int</span></span><br><span class="line"><span class="keyword">var</span> s: <span class="type">String</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Int</code> <code>String</code> æ˜¯ <code>struct</code> ç»“æ„ä½“</li>
<li><code>some View</code> æ˜¯æŸç§ç±»å‹çš„ <code>View</code>ï¼Œåªè¦æ˜¯ä¸€ä¸ª <code>View</code> å³å¯ï¼Œæ¯”å¦‚ <code>Text</code>ã€<code>Image</code>ã€<code>VStack</code> ã€<code>HStack</code> ç­‰ã€‚</li>
</ul>
<h4 id="1-2-3-è®¡ç®—å±æ€§-Computed-Property"><a href="#1-2-3-è®¡ç®—å±æ€§-Computed-Property" class="headerlink" title="1.2.3 è®¡ç®—å±æ€§ Computed Property"></a>1.2.3 è®¡ç®—å±æ€§ <code>Computed Property</code></h4><p>ä¸Šè¾¹æˆ‘ä»¬è§£é‡Šäº† <code>var body: some View</code>ï¼Œæ¥ä¸‹æ¥çœ‹ <code>body</code> ä¸­çš„å†…å®¹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">	<span class="type">VStack</span> &#123;</span><br><span class="line">		<span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">			.imageScale(.large)</span><br><span class="line">			.foregroundStyle(.tint)</span><br><span class="line">		<span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	.padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>var body</code> æ˜¯ä¸€ä¸ªå±æ€§ï¼Œ<code>body</code> å˜é‡çš„å€¼ä¸ä¼šå­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ï¼Œè€Œæ˜¯åœ¨æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶éƒ½ä¼šè®¡ç®—ä¸€æ¬¡ã€‚åœ¨ â€œHello Worldâ€ ä»£ç ä¸­ï¼Œå®ƒè®¡ç®—çš„æ˜¯å¦‚ä¸‹éƒ¨åˆ†ï¼š</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">	<span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">		.imageScale(.large)</span><br><span class="line">		.foregroundStyle(.tint)</span><br><span class="line">	<span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">.padding()</span><br></pre></td></tr></table></figure>

<h4 id="1-2-4-è§†å›¾ç»“æ„-VStack"><a href="#1-2-4-è§†å›¾ç»“æ„-VStack" class="headerlink" title="1.2.4 è§†å›¾ç»“æ„ VStack"></a>1.2.4 è§†å›¾ç»“æ„ <code>VStack</code></h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">	<span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">		.imageScale(.large)</span><br><span class="line">		.foregroundStyle(.tint)</span><br><span class="line">	<span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ç»“æ„ä½“å®ä¾‹</strong> (Instance of structs)ï¼šVStack æ˜¯ä¸€ä¸ª SwiftUI ä¸­çš„ç»“æ„ä½“ï¼Œç”¨äºå‚ç›´å †å å’Œæ’åˆ—å¤šä¸ªå­è§†å›¾ï¼Œä¾‹å¦‚ <code>Image</code> å’Œ <code>Text</code>ã€‚</li>
<li><strong>å‘½åå‚æ•°</strong> (named parameters)ï¼š<code>VStack</code> å¯ä»¥æ¥å—ä¸åŒçš„å‚æ•°ï¼Œé»˜è®¤çš„ <code>alignment</code> æ˜¯ <code>.center</code>ï¼Œ<code>spacing</code> æ˜¯ 0ï¼Œè¡¨ç¤ºæ‰€æœ‰å­è§†å›¾å±…ä¸­å¯¹é½ï¼Œä¸”å‚ç›´é—´è·ä¸º 0ã€‚</li>
<li><strong>å‚æ•°é»˜è®¤å€¼</strong> (Parameter Defaults)ï¼š<code>VStack</code> å…è®¸æŒ‡å®š <code>alignment</code> å’Œ <code>spacing</code>ï¼Œä½†å®ƒä»¬æœ‰é»˜è®¤å€¼ï¼Œä¸æŒ‡å®šæ—¶ä¼šä½¿ç”¨é»˜è®¤è®¾ç½®ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span>(alignment: .leading, spacing: <span class="number">20</span>) &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">        .imageScale(.large)</span><br><span class="line">        .foregroundStyle(.tint)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å†…å®¹å‚æ•°</strong><code>content</code>ï¼š<code>VStack</code> å®é™…ä¸Šå¯ä»¥ç”¨ <code>content</code> å‚æ•°æ¥åŒ…è£¹å†…å®¹ï¼ŒSwiftUI å…è®¸çœç•¥ <code>content:</code> ä»¥ç®€åŒ–è¯­æ³•ã€‚</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span>(content: &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">        .imageScale(.large)</span><br><span class="line">        .foregroundStyle(.tint)</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>@ViewBuilder</strong>ï¼š<code>VStack</code> ä½¿ç”¨ <code>@ViewBuilder</code> å±æ€§åŒ…è£…å™¨å°†å¤šä¸ªå­è§†å›¾ï¼ˆå¦‚ <code>Image</code> å’Œ <code>Text</code>ï¼‰è½¬æ¢ä¸º <code>TupleView</code>ã€‚è¿™æ„å‘³ç€ <code>VStack</code> å¯ä»¥ç»„åˆå¤šä¸ªè§†å›¾ï¼Œè€Œ SwiftUI ä¼šè‡ªåŠ¨å¤„ç†å’Œæ¸²æŸ“å®ƒä»¬ã€‚</li>
</ul>
<h4 id="1-2-5-View-Modifier"><a href="#1-2-5-View-Modifier" class="headerlink" title="1.2.5 View Modifier"></a>1.2.5 View Modifier</h4><p><strong>View Modifier</strong> æ˜¯ä¸€ç§ç”¨äºä¿®æ”¹è§†å›¾å¤–è§‚æˆ–è¡Œä¸ºçš„è½»é‡æ–¹æ³•ã€‚é€šè¿‡åœ¨è§†å›¾åé“¾å¼è°ƒç”¨æ¥è®¾ç½®å±æ€§å’Œæ ·å¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Image</span>(systemName: <span class="string">&quot;globe&quot;</span>)</span><br><span class="line">	 .imageScale(.large)</span><br><span class="line">	 .foregroundStyle(.tint)</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>.imageScale(.large)</code> å’Œ <code>.foregroundStyle(.tint)</code> å°±æ˜¯ <strong>View Modifier</strong></li>
<li>æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œå¯æ·»åŠ å¤šä¸ªæ ·å¼ä¿®æ”¹</li>
</ul>
<h4 id="1-2-6-View-Modifier-ä½œç”¨åŸŸ"><a href="#1-2-6-View-Modifier-ä½œç”¨åŸŸ" class="headerlink" title="1.2.6 View Modifier ä½œç”¨åŸŸ"></a>1.2.6 View Modifier ä½œç”¨åŸŸ</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Outer Text&quot;</span>)</span><br><span class="line">        .foregroundColor(.red)  <span class="comment">// ä»…åº”ç”¨åˆ°æ­¤ Text</span></span><br><span class="line"></span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Inner Text 1&quot;</span>)</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Inner Text 2&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    .foregroundColor(.blue)  <span class="comment">// åº”ç”¨äº HStack å†…çš„æ‰€æœ‰å­è§†å›¾</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä½œç”¨äºå®¹å™¨è§†å›¾çš„ Modifier å½±å“å…¶æ‰€æœ‰å­è§†å›¾</strong>ï¼šä¸Šè¿°ä»£ç ä¸­çš„ <code>.foregroundColor(.blue)</code> åº”ç”¨äº <code>HStack</code> çš„æ‰€æœ‰å­è§†å›¾ <code>Text</code>ã€‚</li>
<li><strong>å¹¶åˆ—å±‚çº§çš„è§†å›¾çš„ Modifier äº’ä¸å½±å“</strong>ï¼šåœ¨æ­¤ä¾‹ä¸­ï¼Œ<code>.foregroundColor(.blue)</code> åº”ç”¨äº <code>HStack</code>ï¼Œä»…å½±å“ <code>HStack</code> ä¸­çš„ <code>Text</code> è§†å›¾ï¼Œå¤–å±‚çš„ <code>Text(&quot;Outer Text&quot;)</code> è§†å›¾ä¸å—å½±å“ã€‚</li>
</ul>
<h3 id="1-3-æœ¬èŠ‚å®Œæ•´ä»£ç "><a href="#1-3-æœ¬èŠ‚å®Œæ•´ä»£ç " class="headerlink" title="1.3 æœ¬èŠ‚å®Œæ•´ä»£ç "></a>1.3 æœ¬èŠ‚å®Œæ•´ä»£ç </h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            <span class="type">CardView</span>(isFaceUp: <span class="literal">true</span>)</span><br><span class="line">            <span class="type">CardView</span>()</span><br><span class="line">            <span class="type">CardView</span>()</span><br><span class="line">            <span class="type">CardView</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span>(content: &#123;</span><br><span class="line">            <span class="keyword">if</span> isFaceUp &#123;</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">                    .foregroundColor(.white)</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">                    .strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;ğŸ‘»&quot;</span>).font(.largeTitle)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="type">Preview</span> &#123;</span><br><span class="line">    <span class="type">ContentView</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-åç»­é¢„ä¹ "><a href="#1-4-åç»­é¢„ä¹ " class="headerlink" title="1.4 åç»­é¢„ä¹ "></a>1.4 åç»­é¢„ä¹ </h3><ul>
<li><strong>ç½‘æ ¼å¸ƒå±€è¿‡æ¸¡</strong></li>
<li><strong>æ¸¸æˆé€»è¾‘çš„æ•´åˆ</strong></li>
</ul>
]]></content>
      <categories>
        <category>code</category>
        <category>swift</category>
      </categories>
      <tags>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>Stanford cs193p 02 | More SwiftUI</title>
    <url>/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 02 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<p>cs193p è¯¾ç¨‹ä»‹ç»:</p>
<blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<p>cs193p è¯¾ç¨‹ç½‘å€: <a href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></p>
<p>ç»§ç»­ä¸Šä¸€èŠ‚è®°å¿†å¡ç‰‡çš„æ¸¸æˆåˆ¶ä½œï¼Œç¬”è®°æŒ‰ç…§è¯¾ç¨‹é¡¹ç›®åˆ¶ä½œæ­¥éª¤è¿›è¡Œæ•´ç†ï¼Œåœ¨æ¯ä¸ªæ­¥éª¤ä¾æ¬¡å¯¹æ¶‰åŠçš„è¯­æ³•ç³–è¿›è¡Œè¯´æ˜ã€‚å»ºè®®åœ¨çœ‹ç¬¬äºŒèŠ‚è§†é¢‘å‰é¢„è§ˆä¸€éï¼Œäº†è§£æ•™ç¨‹æ¡†æ¶ï¼Œä¾¿äºé’ˆå¯¹æ€§çš„å­¦ä¹ ã€‚</p>
<p>è¯¥ç¬”è®°åŸºäº <a href="https://nwdan.com/my-learning/stanford-cs193p-2.html">https://nwdan.com/my-learning/stanford-cs193p-2.html</a> åšäº†é€‚å½“ä¿®æ”¹ï¼Œæ·»åŠ äº†å¯¹äºé¡¹ç›®åˆ¶ä½œæµç¨‹æ¢³ç†ï¼Œå¹¶åœ¨ <code>some View</code>ã€<code>@State</code>ã€<code>LazyVGrid</code> ç­‰å°èŠ‚å¢åŠ äº†éƒ¨åˆ†è¯´æ˜ã€‚ï¼ˆpsï¼šç¬”è®°éåŸåˆ›ï¼ŒåŸåšä¸»çš„ç¬”è®°éå¸¸ç®€æ´æ¸…æ™°ï¼Œæ¨èé˜…è¯»ã€‚ï¼‰</p>
<h2 id="1-åˆ›å»ºä¸€ä¸ª-CardView-struct"><a href="#1-åˆ›å»ºä¸€ä¸ª-CardView-struct" class="headerlink" title="1. åˆ›å»ºä¸€ä¸ª CardView struct"></a>1. åˆ›å»ºä¸€ä¸ª CardView struct</h2><h3 id="1-1-some-View"><a href="#1-1-some-View" class="headerlink" title="1.1 some View"></a>1.1 some View</h3><p>è¯·çœ‹ä¸€æ®µæ¼”ç¤ºä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µæ¼”ç¤ºä»£ç åŒæ ·å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="type">Text</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æ”¾ä¸€äº›è¿”å›å€¼ä¸ä¸º <code>Text</code> çš„ç»“æ„ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ (Cannot convert return expression of type <code>&#39;VStack&lt;TupleView&lt;(Text, Text, Text)&gt;&gt;&#39;</code> to return type <code>&#39;Text&#39;</code>)ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="type">Text</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œå¦‚æœæˆ‘ä»¬æ”¾å…¥å¤šä¸ª <code>Text</code> çš„ç»“æ„ï¼Œç¼–è¯‘å™¨ä»ç„¶ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> body: <span class="type">Text</span> &#123;</span><br><span class="line">		<span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">		<span class="type">Text</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>some View</code> å¯ä»¥è®©ç¼–è¯‘å™¨è‡ªåŠ¨è¯†åˆ«ä¸åŒçš„è¿”å›ç±»å‹ã€‚</p>
<h3 id="1-2-å°¾éšé—­åŒ…-Trailing-closure-syntax"><a href="#1-2-å°¾éšé—­åŒ…-Trailing-closure-syntax" class="headerlink" title="1.2 å°¾éšé—­åŒ… (Trailing closure syntax)"></a>1.2 å°¾éšé—­åŒ… (Trailing closure syntax)</h3><p>æˆ‘ä»¬å¦‚æœä»”ç»†çœ‹çœ‹ <code>VStack</code>, æˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªåä¸º<code>content</code>çš„å‚æ•°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span>(alignment: .top, content: &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span>(alignment: .top) &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-RoundedRectangle"><a href="#1-3-RoundedRectangle" class="headerlink" title="1.3 RoundedRectangle"></a>1.3 RoundedRectangle</h3><p>å½“æˆ‘ä»¬ä½¿ç”¨ RoundedRectangle æ—¶ï¼Œå¦‚æœæˆ‘ä»¬ä¸æŒ‡å®šå…·ä½“çš„ä¿®æ”¹å™¨ï¼ŒSwift ä¼šé»˜è®¤å¡«å……ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line"><span class="comment">// These two codes are identical in terms of functionality.</span></span><br><span class="line"><span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>).fill()</span><br></pre></td></tr></table></figure>

<h3 id="1-4-å±€éƒ¨å˜é‡-Local-Variable"><a href="#1-4-å±€éƒ¨å˜é‡-Local-Variable" class="headerlink" title="1.4 å±€éƒ¨å˜é‡ (Local Variable)"></a>1.4 å±€éƒ¨å˜é‡ (Local Variable)</h3><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> isFaceUp &#123;</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>).fill(.white)</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>).strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;ğŸ‘»&quot;</span>).font(.largeTitle)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>).fill()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºäº†ä¸€ä¸ªå±€éƒ¨å˜é‡åä¸º <code>base</code>ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base: <span class="type">RoundedRectangle</span> <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="keyword">if</span> isFaceUp &#123;</span><br><span class="line">                base.fill(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;ğŸ‘»&quot;</span>).font(.largeTitle)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                base.fill()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>IMPORTANT:</strong> æˆ‘ä»¬ä½¿ç”¨äº†å…³é”®å­— <code>let</code> è€Œä¸æ˜¯ <code>var</code>ï¼Œå› ä¸ºè¿™ä¸ªå˜é‡ä¸€æ—¦åˆ›å»ºå°±ä¸å†èƒ½è¢«æ”¹å˜ã€‚(<code>let</code> é€šå¸¸ç”¨æ¥åˆ›å»ºå¸¸é‡)</p>
<h3 id="1-5-ç±»å‹æ¨æ–­-Type-Inference"><a href="#1-5-ç±»å‹æ¨æ–­-Type-Inference" class="headerlink" title="1.5 ç±»å‹æ¨æ–­ (Type Inference)"></a>1.5 ç±»å‹æ¨æ–­ (Type Inference)</h3><p>æˆ‘ä»¬å¯ä»¥çœç•¥å˜é‡ç±»å‹è®© Swift è‡ªåŠ¨åˆ¤å®šã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Without omit the type</span></span><br><span class="line"><span class="keyword">let</span> base: <span class="type">RoundedRectangle</span> <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line"><span class="comment">// Omited the type (using type inference)</span></span><br><span class="line"><span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŒ‰ä½ <code>option</code> é”®ç„¶åç‚¹å‡» <code>base</code> å˜é‡ï¼ŒSwift ä¼šæ˜¾ç¤ºè‡ªåŠ¨åˆ¤å®šçš„å˜é‡ç±»å‹ã€‚</p>
<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_option.png"></p>
<blockquote>
<p>Note: æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒå‡ ä¹éƒ½ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Œä¸æ‰‹åŠ¨æŒ‡å®šå˜é‡ç±»å‹ã€‚å¦‚æœéœ€è¦å¯¹è¿”å›çš„ç±»å‹è¿›è¡Œæ£€æŸ¥ï¼Œåˆ™å¯æŒ‡å®šå˜é‡ç±»å‹ã€‚</p>
</blockquote>
<h3 id="1-6-onTapGesture"><a href="#1-6-onTapGesture" class="headerlink" title="1.6 .onTapGesture"></a>1.6 <code>.onTapGesture</code></h3><p>å•å‡»:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å°¾éšé—­åŒ…</strong>ï¼šå•å‡»çš„æ–¹æ³•ä¸º <code>.onTapGesture(perform:&#123;&#125;)</code> ï¼Œæ­¤å¤„ç”±äºæœ€åä¸€ä¸ªå‚æ•°æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨å°¾éšé—­åŒ… <code>.onTapGesture &#123; isFaceUp.toggle() &#125;</code></li>
</ul>
<p>åŒå‡»:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture(count: <span class="number">2</span>) &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-7-State"><a href="#1-7-State" class="headerlink" title="1.7 @State"></a>1.7 <code>@State</code></h3><p>è¿™ä¸€æ®µä»£ç ä¼šæŠ¥é”™ <code>Error: Cannot assign to property: &#39;self&#39; is immutable</code>ã€‚å› ä¸ºç»“æ„ä½“çš„å±æ€§é»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»“æ„ä½“çš„å®ä¾‹æ–¹æ³•æˆ–é—­åŒ…ä¸­ä¸èƒ½ç›´æ¥ä¿®æ”¹å®ƒçš„å±æ€§ï¼Œé™¤éæ˜ç¡®æ ‡è®°ä¸º <code>mutating</code>ã€‚å› æ­¤ï¼Œå½“ä½ åœ¨ struct ä¸­ä½¿ç”¨ä¸€ä¸ªå±æ€§ï¼ˆæ¯”å¦‚ isFaceUpï¼‰ï¼Œå®ƒé»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œåœ¨ .onTapGesture ä¸­è¯•å›¾ä¿®æ”¹ isFaceUp åˆ™ä¼šå¯¼è‡´è¿™ä¸ªé”™è¯¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">        	isFaceUp <span class="operator">=</span> <span class="operator">!</span>isFaceUp</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ªå˜é‡åœ¨å‡½æ•°è¢«è°ƒç”¨åå°±ä¸å¯æ”¹å˜ã€‚<code>@State</code> å…³é”®å­—å…è®¸å˜é‡æœ‰ä¸´æ—¶çš„çŠ¶æ€ï¼Œå› ä¸º <code>@State</code> ä¼šåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å † (Heap) ä¸­ã€‚å› æ­¤ï¼ŒæŒ‡é’ˆæœ¬èº«æ²¡æœ‰è¢«æ”¹å˜ï¼Œæ”¹å˜çš„æ˜¯å †é‡Œå­˜çš„æ•°æ®ã€‚</p>
<p>åœ¨ <code>SwiftUI</code> ä¸­ï¼Œ <code>@State</code> å±æ€§åŒ…è£…å™¨ç”¨æ¥ç®¡ç†è§†å›¾ä¸­çš„å¯å˜çŠ¶æ€çš„ï¼Œå°† <code>isFaceUp</code> å£°æ˜ä¸º <code>@State</code>ï¼ŒSwiftUI ä¼šçŸ¥é“è¿™ä¸ªå±æ€§çš„å˜åŒ–ä¼šå¯¼è‡´è§†å›¾é‡æ–°æ¸²æŸ“ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="comment">// ZStack Code</span></span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œ<code>isFaceUp</code> å¯ä»¥åœ¨è§†å›¾ä¸­åŠ¨æ€å¯å˜ï¼Œä¸”ä¸ä¼šè§¦å‘ä¸å¯å˜æ€§é”™è¯¯ã€‚</p>
<h2 id="2-ç”Ÿæˆä¸€ç»„-Card"><a href="#2-ç”Ÿæˆä¸€ç»„-Card" class="headerlink" title="2. ç”Ÿæˆä¸€ç»„ Card"></a>2. ç”Ÿæˆä¸€ç»„ Card</h2><h3 id="2-1-æ•°ç»„-Array"><a href="#2-1-æ•°ç»„-Array" class="headerlink" title="2.1 æ•°ç»„(Array)"></a>2.1 æ•°ç»„(Array)</h3><p>Swift æ¥å—ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ–°å»ºæ•°ç»„ï¼Œ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A valid array notation</span></span><br><span class="line"><span class="keyword">let</span> emojis: <span class="type">Array</span>&lt;<span class="type">String</span>&gt; <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>]</span><br><span class="line"><span class="comment">// Alternate array notation</span></span><br><span class="line"><span class="keyword">let</span> emojis: [<span class="type">String</span>] <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ¨è®ºçœç•¥ç±»å‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-2-ForEach-å¾ªç¯"><a href="#2-2-ForEach-å¾ªç¯" class="headerlink" title="2.2 ForEach å¾ªç¯"></a>2.2 ForEach å¾ªç¯</h3><p><strong>ForEach ä¸åŒ…å«æœ€åä¸€ä¸ªæ•°å­—</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// iterate from 0 to 3 (NOT including 4)</span></span><br><span class="line"><span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">4</span>, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Noteï¼š<code>id:\.self</code> ä¼šåœ¨ cs193p åç»­è¯¾ç¨‹ä¸­è®²è§£</p>
</blockquote>
<p><strong>ForEach åŒ…å«æœ€åä¸€ä¸ªæ•°å­—</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// iterate from 0 to 4 (including 4)</span></span><br><span class="line"><span class="type">ForEach</span>(<span class="number">0</span><span class="operator">...</span><span class="number">4</span>, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ForEach ï¼ˆåŸºäºæ•°ç»„çš„é•¿åº¦ï¼‰å¾ªç¯æ•´ä¸ªæ•°ç»„</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>]</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(emojis.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸åœ¨æ•°ç»„é•¿åº¦æœªçŸ¥æ—¶ä½¿ç”¨è¯¥ <code>.indices</code> æ–¹æ³•ã€‚</p>
<h2 id="3-æ§åˆ¶-Card-ä¸ªæ•°"><a href="#3-æ§åˆ¶-Card-ä¸ªæ•°" class="headerlink" title="3. æ§åˆ¶ Card ä¸ªæ•°"></a>3. æ§åˆ¶ Card ä¸ªæ•°</h2><h3 id="3-1-æŒ‰é’®"><a href="#3-1-æŒ‰é’®" class="headerlink" title="3.1 æŒ‰é’®"></a>3.1 æŒ‰é’®</h3><h4 id="3-1-1-æ–‡æœ¬æŒ‰é’®"><a href="#3-1-1-æ–‡æœ¬æŒ‰é’®" class="headerlink" title="3.1.1 æ–‡æœ¬æŒ‰é’®"></a>3.1.1 æ–‡æœ¬æŒ‰é’®</h4><p>è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(<span class="string">&quot;Remove card&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// action</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>]</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> cardCount <span class="operator">=</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .foregroundColor(.orange)</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Remove card&quot;</span>) &#123;</span><br><span class="line">                    cardCount <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">                <span class="type">Button</span>(<span class="string">&quot;Add card&quot;</span>) &#123;</span><br><span class="line">                    cardCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_textButton.png"></p>
<h4 id="3-1-2-å›¾æ ‡æŒ‰é’®"><a href="#3-1-2-å›¾æ ‡æŒ‰é’®" class="headerlink" title="3.1.2 å›¾æ ‡æŒ‰é’®"></a>3.1.2 å›¾æ ‡æŒ‰é’®</h4><p>è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(action: &#123;</span><br><span class="line">    <span class="comment">// action</span></span><br><span class="line">&#125;, label: &#123;</span><br><span class="line">    <span class="comment">// button icon, images, etc...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>]</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> cardCount <span class="operator">=</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .foregroundColor(.orange)</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Button</span>(action: &#123;</span><br><span class="line">                    cardCount <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                &#125;, label: &#123;</span><br><span class="line">                    <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">                <span class="type">Button</span>(action: &#123;</span><br><span class="line">                    cardCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">                &#125;, label: &#123;</span><br><span class="line">                    <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            .imageScale(.large)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_iconButton.png"></p>
<h3 id="3-2-è¶…å‡ºç´¢å¼•çš„é—®é¢˜"><a href="#3-2-è¶…å‡ºç´¢å¼•çš„é—®é¢˜" class="headerlink" title="3.2 è¶…å‡ºç´¢å¼•çš„é—®é¢˜"></a>3.2 è¶…å‡ºç´¢å¼•çš„é—®é¢˜</h3><p>å¦‚æœæˆ‘ä»¬æ·»åŠ äº†å¤ªå¤šçš„å¡ç‰‡ï¼Œç”±äºç´¢å¼•è¶…å‡ºèŒƒå›´ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚å…¶ä¸­ä¸€ç§é¿å…ç¨‹åºçš„æ–¹æ³•æ˜¯æ·»åŠ ä¸€ä¸ª <code>if</code> é€»è¾‘ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span>(action: &#123;</span><br><span class="line">    <span class="keyword">if</span> cardCount <span class="operator">&lt;</span> emojis.count &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;, label: &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>.disabled</code> è§†å›¾ä¿®æ”¹å™¨</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">cardCountAdjuster</span>(<span class="params">by</span> <span class="params">offset</span>: <span class="type">Int</span>, <span class="params">symbol</span>: <span class="type">String</span>) -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(action: &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> offset</span><br><span class="line">    &#125;, label: &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: symbol)</span><br><span class="line">    &#125;)</span><br><span class="line">    .disabled(cardCount <span class="operator">+</span> offset <span class="operator">&lt;</span> <span class="number">1</span> <span class="operator">||</span> cardCount <span class="operator">+</span> offset <span class="operator">&gt;</span> emojis.count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note: è¿™èŠ‚è¯¾çš„ååŠéƒ¨åˆ†è®²è§£äº† Swift ä¸­çš„å‡½æ•°ã€‚</p>
</blockquote>
<h2 id="4-æ•´ç†ä»£ç "><a href="#4-æ•´ç†ä»£ç " class="headerlink" title="4. æ•´ç†ä»£ç "></a>4. æ•´ç†ä»£ç </h2><h3 id="4-1-ä¼˜åŒ–ä»£ç å¯è¯»æ€§"><a href="#4-1-ä¼˜åŒ–ä»£ç å¯è¯»æ€§" class="headerlink" title="4.1 ä¼˜åŒ–ä»£ç å¯è¯»æ€§"></a>4.1 ä¼˜åŒ–ä»£ç å¯è¯»æ€§</h3><p>æˆ‘ä»¬å…ˆçœ‹çœ‹ <code>body</code> ä¸­åŒ…å«çš„ä»£ç ï¼Œ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>]</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> cardCount <span class="operator">=</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                    <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .foregroundColor(.orange)</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Button</span>(action: &#123;</span><br><span class="line">                    <span class="keyword">if</span> cardCount <span class="operator">&gt;</span> <span class="number">1</span> &#123;</span><br><span class="line">                        cardCount <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, label: &#123;</span><br><span class="line">                    <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">                <span class="type">Button</span>(action: &#123;</span><br><span class="line">                    <span class="keyword">if</span> cardCount <span class="operator">&lt;</span> emojis.count &#123;</span><br><span class="line">                        cardCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, label: &#123;</span><br><span class="line">                    <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            .imageScale(.large)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨çœ‹èµ·æ¥ååˆ†ä¸æ•´æ´ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºå…¶å®ƒè§†å›¾æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ˜ˆ&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>]</span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> cardCount <span class="operator">=</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            cards</span><br><span class="line">            cardCountAdjusters</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cardCountAdjusters: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            cardRemover</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            cardAdder</span><br><span class="line">        &#125;</span><br><span class="line">        .imageScale(.large)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cardRemover: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Button</span>(action: &#123;</span><br><span class="line">            <span class="keyword">if</span> cardCount <span class="operator">&gt;</span> <span class="number">1</span> &#123;</span><br><span class="line">                cardCount <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, label: &#123;</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cardAdder: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Button</span>(action: &#123;</span><br><span class="line">            <span class="keyword">if</span> cardCount <span class="operator">&lt;</span> emojis.count &#123;</span><br><span class="line">                cardCount <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, label: &#123;</span><br><span class="line">            <span class="type">Image</span>(systemName: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ•´ç†åï¼Œæˆ‘ä»¬ <code>body</code> ä¸­çš„ä»£ç ç°åœ¨çœ‹èµ·æ¥éå¸¸å®¹æ˜“ç†è§£ã€‚</p>
<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_view.png"></p>
<h3 id="4-2-éšå¼è¿”å›å€¼-Implicit-return"><a href="#4-2-éšå¼è¿”å›å€¼-Implicit-return" class="headerlink" title="4.2 éšå¼è¿”å›å€¼ (Implicit return)"></a>4.2 éšå¼è¿”å›å€¼ (Implicit return)</h3><p>å¦‚æœä¸€ä¸ªå‡½æ•°åªæœ‰ 1 è¡Œä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨éšå¼è¿”å›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .foregroundColor(.orange)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>return</code> å…³é”®å­—æ˜¾å¼è¿”å›ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">HStack</span> &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .foregroundColor(.orange)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-å‡½æ•°-Function"><a href="#4-3-å‡½æ•°-Function" class="headerlink" title="4.3 å‡½æ•° (Function)"></a>4.3 å‡½æ•° (Function)</h3><p>è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">&lt;</span>function name<span class="operator">&gt;</span>(<span class="operator">&lt;</span>para name<span class="operator">&gt;</span>: <span class="operator">&lt;</span>data type<span class="operator">&gt;</span>) -&gt; <span class="operator">&lt;</span><span class="keyword">return</span> type<span class="operator">&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// function code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">cardCountAdjuster</span>(<span class="params">by</span> <span class="params">offset</span>: <span class="type">Int</span>, <span class="params">symbol</span>: <span class="type">String</span>) -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(action: &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> offset</span><br><span class="line">    &#125;, label: &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: symbol)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>IMPORTANT:</strong> <code>by offset: Int</code> æˆ‘ä»¬æœ‰æ—¶å€™ä¼šä½¿ç”¨ 2 ä¸ªæ ‡ç­¾ä»£è¡¨ä¸€ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° <code>by</code> åœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨ï¼Œè€Œç¬¬äºŒä¸ªæ ‡ç­¾åœ¨å‡½æ•°å†…ä½¿ç”¨ã€‚ç¬¬ä¸€ä¸ªæ ‡ç­¾è¢«ç§°ä¸º external parameter nameï¼Œç¬¬äºŒä¸ªæ ‡ç­¾è¢«ç§°ä¸º internal parameter nameã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥æ›´æ¼‚äº®äº†,</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">cardCountAdjuster</span>(<span class="params">by</span> <span class="params">offset</span>: <span class="type">Int</span>, <span class="params">symbol</span>: <span class="type">String</span>) -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(action: &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> offset</span><br><span class="line">    &#125;, label: &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: symbol)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardRemover: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjuster(by: <span class="operator">-</span><span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardAdder: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjuster(by: <span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note: ç”±äºæˆ‘ä»¬åˆ é™¤äº† <code>if</code> é€»è¾‘ï¼Œæˆ‘ä»¬ç¨‹åºå¯èƒ½ç”±äºæ•°ç»„è¶…å‡ºç´¢å¼•èŒƒå›´è€Œå´©æºƒã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨è¶…å‡ºç´¢å¼•çš„é—®é¢˜ç« èŠ‚è®²äº†å¦‚ä½•è§£å†³.</p>
</blockquote>
<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_function.png"></p>
<h2 id="5-ä¼˜åŒ–å¸ƒå±€"><a href="#5-ä¼˜åŒ–å¸ƒå±€" class="headerlink" title="5. ä¼˜åŒ–å¸ƒå±€"></a>5. ä¼˜åŒ–å¸ƒå±€</h2><h3 id="5-1-LazyVGrid"><a href="#5-1-LazyVGrid" class="headerlink" title="5.1 LazyVGrid"></a>5.1 LazyVGrid</h3><p>ä¸ºäº†è®©è¿™äº›å¡ç‰‡çœ‹èµ·æ¥æ¯”è¾ƒæ­£å¸¸ï¼Œæˆ‘ä»¬éœ€è¦ç”¨<code>LazyVGrid</code>æ›¿ä»£<code>HStack</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">120</span>))]) &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .foregroundColor(.orange)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>LazyVGrid</code> å’Œ <code>LazyHGrid</code> åˆ†åˆ«æ˜¯å‚ç›´çš„ç½‘æ ¼å¸ƒå±€ã€æ°´å¹³ç½‘æ ¼å¸ƒå±€ã€‚<code>LazyVGrid</code> é€šè¿‡åˆ¶å®šåˆ—çš„æ•°é‡ç„¶åæ¥å¡«å……å¸ƒå±€ã€‚<code>GridItem</code> é€šè¿‡è®¾ç½® Size æ¥æ§åˆ¶æ ¼å­çš„å®½åº¦ï¼š</p>
<ol>
<li><code>fixed</code> é€šè¿‡æŒ‡å®šå›ºå®šå¤§å°æ¥ç¡®å®šæ ¼å­å®½åº¦</li>
<li><code>flexible </code> å¼¹æ€§å¤§å°ï¼Œä¼šå’Œå…¶ä»– flexible çš„æ ¼å­åˆ†å‰²å‰©ä½™çš„ç©ºé—´ï¼Œå¯ä»¥è®¾ç½®æœŸæœ›çš„æœ€å¤§å’Œæœ€å°å€¼ã€‚å¦‚æœæŒ‡å®šçš„æœ€å°å€¼è¿‡å¤§å¯èƒ½ä¼šè¶…å‡ºå±å¹•</li>
<li><code>adaptive</code> è‡ªé€‚åº”åˆ†å¸ƒ, è¿™ä¸ªå°ºå¯¸ä¼šæä¾›ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ ¼å­ã€‚éœ€è¦æŒ‡å®šä¸€ä¸ªæœ€å°å€¼, ä¹Ÿå¯ä»¥è®¾ç½®æœ€å¤§å€¼ï¼Œç„¶åæ ¹æ®æœ€å°å€¼åœ¨æŠŠè‡ªèº«å ç”¨çš„åŒºåŸŸå¹³åˆ†æˆè‹¥å¹²ä¸ªæ»¡è¶³æœ€å°å€¼æœ€å¤§å€¼çš„çš„æ ¼å­ã€‚å¯ä»¥ç†è§£ adaptive ä¸ºä¸€ä¸ª flexible å¤§æ ¼å­ï¼Œè·å¾—ç©ºé—´åå†æŠŠè¿™ä¸ªå¤§æ ¼å­å¹³åˆ†æˆè‹¥å¹²ä¸ªæ»¡è¶³è®¾ç½®å®šå€¼çš„å°æ ¼å­ã€‚</li>
</ol>
</blockquote>
<p>æˆ‘ä»¬éœ€è¦åœ¨<code>cards</code> å’Œ <code>cardCountAdjusters</code>ä¹‹é—´æ·»åŠ ä¸€ä¸ª<code>Spacer()</code>ï¼Œè¿™æ ·å®ƒä»¬ä¸ä¼šæŒ¤åˆ°ä¸€èµ·å»ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        cards</span><br><span class="line">        <span class="type">Spacer</span>()</span><br><span class="line">        cardCountAdjusters</span><br><span class="line">    &#125;</span><br><span class="line">    .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äº<code>LazyVGrid</code>ä¼šä½¿ç”¨å°½å¯èƒ½å°‘çš„ç©ºé—´ï¼Œå› æ­¤ï¼Œå½“ä¸¤å¼ å¡ç‰‡éƒ½ä¸ºèƒŒé¢æ—¶ä¼šè¢«æŒ¤å‹åˆ°ä¸€èµ·å»ã€‚</p>
<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_lazyVGrid.png"></p>
<h3 id="5-2-opacity"><a href="#5-2-opacity" class="headerlink" title="5.2 .opacity"></a>5.2 <code>.opacity</code></h3><p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹<code>CardView</code>çš„é€»è¾‘</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">String</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="type">Group</span> &#123;</span><br><span class="line">                base.foregroundColor(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(content).font(.largeTitle)</span><br><span class="line">            &#125;</span><br><span class="line">            .opacity(isFaceUp <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            base.fill().opacity(isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é—®é¢˜è§£å†³ï¼</p>
<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_opacity.png"></p>
<h3 id="5-3-aspectRatio"><a href="#5-3-aspectRatio" class="headerlink" title="5.3 .aspectRatio"></a>5.3 <code>.aspectRatio</code></h3><p>ä½¿ç”¨ <code>aspectRatio</code> æ§åˆ¶è§†å›¾çš„å®½é«˜æ¯”</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">120</span>))]) &#123;</span><br><span class="line">        <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    .foregroundColor(.orange)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/cs193p02_aspectRatio.png"></p>
<h3 id="5-4-ScrollView"><a href="#5-4-ScrollView" class="headerlink" title="5.4 ScrollView"></a>5.4 ScrollView</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            cards</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Spacer</span>()</span><br><span class="line">        cardCountAdjusters</span><br><span class="line">    &#125;</span><br><span class="line">    .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>code</category>
        <category>swift</category>
      </categories>
      <tags>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>Stanford cs193p 03ï½œMVVM</title>
    <url>/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 03 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<p>cs193p è¯¾ç¨‹ä»‹ç»:</p>
<blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<p>æœ¬èŠ‚å‰è¨€ï¼š</p>
<blockquote>
<p>Conceptual overview of the architectural paradigm underlying the development of applications for iOS using SwiftUI (known as MVVM). Explanation of a fundamental component of understanding the Swift programming language: its type system. Start to apply both of these to Memorize.</p>
</blockquote>
<p>cs193p è¯¾ç¨‹ç½‘å€: <a href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></p>
<p>æ¨èçš„æ‹“å±•ç»ƒä¹ æ•™ç¨‹ï¼štodolist MVVMï¼ˆçº¦ 130 åˆ†é’Ÿï¼‰ <a href="https://ur0.jp/jVOQG">https://ur0.jp/jVOQG</a></p>
<hr>
<h2 id="0-æœ¬èŠ‚æ¡†æ¶"><a href="#0-æœ¬èŠ‚æ¡†æ¶" class="headerlink" title="0. æœ¬èŠ‚æ¡†æ¶"></a>0. æœ¬èŠ‚æ¡†æ¶</h2><ul>
<li><p>MVVM</p>
<p>MVVM æ¶æ„ç®€ä»‹ä¸ç‰¹ç‚¹</p>
</li>
<li><p><code>swift</code> ç±»å‹</p>
<ul>
<li><code>struct</code> vs <code>class</code></li>
<li><code>protocol</code></li>
<li>â€œdonâ€™t careâ€ type (aka <code>generics</code>)</li>
<li><code>enum</code>ï¼ˆç•¥ï¼Œä½†å¾ˆé‡è¦ï¼‰</li>
<li><code>functions</code></li>
</ul>
</li>
<li><p>Demo<br>ç»­ä¸ŠèŠ‚è®°å¿†æ¸¸æˆï¼Œå›  demo å¤ªçŸ­ï¼Œå°† demo åˆå¹¶åˆ°äº†ä¸‹ä¸€ç¯‡ç¬”è®°ä¸­ã€‚</p>
</li>
</ul>
<h2 id="1-Model-and-UI"><a href="#1-Model-and-UI" class="headerlink" title="1. Model and UI"></a>1. Model and UI</h2><h3 id="1-1-å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»"><a href="#1-1-å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»" class="headerlink" title="1.1 å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»"></a>1.1 å°†â€œé€»è¾‘ä¸æ•°æ®â€ä¸â€œç”¨æˆ·ç•Œé¢â€åˆ†ç¦»</h3><ul>
<li>SwiftUI å¼ºè°ƒå°†åº”ç”¨ç¨‹åºé€»è¾‘å’Œæ•°æ®ä¸ç”¨æˆ·ç•Œé¢åˆ†ç¦»ã€‚æˆ‘ä»¬å°†è¿™äº›é€»è¾‘å’Œæ•°æ®ç§°ä¸º <strong>æ¨¡å‹ï¼ˆModelï¼‰</strong>ã€‚</li>
<li>æ¨¡å‹å¯ä»¥æ˜¯ <code>struct</code>ã€<code>SQL</code> æ•°æ®åº“ã€æœºå™¨å­¦ä¹ ä»£ç æˆ–å…¶ä»–å¤šç§å½¢å¼çš„ç»„åˆã€‚</li>
<li>ç”¨æˆ·ç•Œé¢åŸºæœ¬ä¸Šåªæ˜¯ä¸€ä¸ªâ€œå¯å‚æ•°åŒ–â€çš„å¤–å£³ï¼Œç”±æ¨¡å‹æä¾›æ•°æ®å¹¶èµ‹äºˆå…¶ç”Ÿå‘½ã€‚</li>
<li><strong>ç”¨æˆ·ç•Œé¢æ˜¯æ¨¡å‹çš„å¯è§†åŒ–è¡¨ç°</strong>ã€‚</li>
<li>æ¨¡å‹æ˜¯å­˜æ”¾åƒ <code>isFaceUp</code> å’Œ <code>cardCount</code> è¿™æ ·çš„çŠ¶æ€çš„åœ°æ–¹ï¼Œè€Œè¿™äº›çŠ¶æ€ä¸åº”è¯¥æ”¾åœ¨ UI çš„ <code>@State</code> ä¸­ã€‚</li>
<li>SwiftUI ä¼šç¡®ä¿å½“æ¨¡å‹å˜åŒ–å½±å“åˆ°ç”¨æˆ·ç•Œé¢æ—¶ï¼Œç”¨æˆ·ç•Œé¢ä¼šè¢«é‡æ–°æ„å»ºã€‚</li>
</ul>
<h3 id="1-2-å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢"><a href="#1-2-å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢" class="headerlink" title="1.2 å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢"></a>1.2 å°†æ¨¡å‹è¿æ¥åˆ°ç”¨æˆ·ç•Œé¢</h3><p>åœ¨å°†æ¨¡å‹ä¸ç”¨æˆ·ç•Œé¢è¿æ¥æ—¶ï¼Œæœ‰å‡ ç§é€‰æ‹©ï¼š</p>
<ol>
<li><strong>å‡ ä¹ä¸åˆ†ç¦»</strong>ï¼šæå°‘æ•°æƒ…å†µä¸‹ï¼Œæ¨¡å‹å¯ä»¥ä½œä¸ºè§†å›¾ä¸­çš„ <code>@State</code></li>
<li><strong>å®Œå…¨åˆ†ç¦»</strong>ï¼šæ¨¡å‹å¯èƒ½ä»…èƒ½é€šè¿‡ä¸€ä¸ªå……å½“â€œé—¨å«â€çš„ <strong>è§†å›¾æ¨¡å‹ï¼ˆView Modelï¼‰</strong> <code>class</code> è¿›è¡Œè®¿é—®</li>
<li><strong>éƒ¨åˆ†åˆ†ç¦»</strong>ï¼šå­˜åœ¨ä¸€ä¸ªè§†å›¾æ¨¡å‹ <code>class</code>ï¼Œä½†æ¨¡å‹ä»ç„¶å¯ä»¥ç›´æ¥è®¿é—®</li>
</ol>
<p>è¿™ä¸‰ç§é€‰æ‹©ä¸»è¦å–å†³äºæ¨¡å‹çš„å¤æ‚æ€§ï¼š</p>
<ul>
<li>ä¸€ä¸ªç”± SQL + <code>struct</code> + å…¶ä»–å…ƒç´ ç»„æˆçš„æ¨¡å‹ï¼Œå¯èƒ½ä¼šé€‰æ‹©ç¬¬äºŒç§æ–¹æ¡ˆ</li>
<li>å¦‚æœæ¨¡å‹åªæ˜¯ä¸€å°æ®µç®€å•æ•°æ®ä¸”æ¶‰åŠçš„é€»è¾‘å¾ˆå°‘ï¼Œå¯èƒ½ä¼šé€‰æ‹©ç¬¬ä¸€ç§æ–¹æ¡ˆ</li>
<li>ä»‹äºä¸¤è€…ä¹‹é—´çš„æƒ…å†µå¯èƒ½ä¼šè€ƒè™‘ç¬¬ä¸‰ç§æ–¹æ¡ˆ</li>
</ul>
<p>æœ¬èŠ‚å°†é‡ç‚¹è®¨è®ºç¬¬äºŒç§æ–¹æ¡ˆï¼ˆå®Œå…¨åˆ†ç¦»ï¼‰ã€‚æˆ‘ä»¬å°†è¿™ç§è¿æ¥æ¨¡å‹ä¸ç”¨æˆ·ç•Œé¢çš„æ¶æ„ç§°ä¸º <strong>MVVM</strong> ï¼ˆæ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ï¼‰ã€‚</p>
<ul>
<li><strong>MVVM</strong> æ˜¯ç›¸å¯¹å¤æ‚çš„ SwiftUI åº”ç”¨çš„ä¸»è¦æ¶æ„</li>
<li>ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼ˆéƒ¨åˆ†åˆ†ç¦»ï¼‰æ˜¯å¯¹ MVVM çš„ç»†å¾®è°ƒæ•´</li>
</ul>
<h2 id="2-MVVM"><a href="#2-MVVM" class="headerlink" title="2. MVVM"></a>2. MVVM</h2><h3 id="2-1-MVVM-ç®€ä»‹"><a href="#2-1-MVVM-ç®€ä»‹" class="headerlink" title="2.1 MVVM ç®€ä»‹"></a>2.1 MVVM ç®€ä»‹</h3><p><strong>MVVM (Model-View-ViewModel)</strong> æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œå°†è§†å›¾ï¼ˆUIï¼‰å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œä»è€Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚å®ƒå°†ä»£ç åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>Modelï¼ˆæ¨¡å‹å±‚ï¼‰ï¼š</strong> è´Ÿè´£ç®¡ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚é€šå¸¸æ˜¯æ•°æ®æ¨¡å‹ï¼Œå¯èƒ½åŒ…å«ä»æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“è·å–çš„å†…å®¹ã€‚</li>
<li><strong>Viewï¼ˆè§†å›¾å±‚ï¼‰ï¼š</strong> è´Ÿè´£å±•ç¤º UIï¼Œå£°æ˜å¼åœ°æè¿°ç•Œé¢å¦‚ä½•å“åº”æ•°æ®å˜åŒ–ã€‚è§†å›¾åªä¸ ViewModel äº¤äº’ï¼Œè€Œä¸ç›´æ¥æ“ä½œ Modelã€‚</li>
<li><strong>ViewModelï¼ˆè§†å›¾æ¨¡å‹å±‚ï¼‰ï¼š</strong> è´Ÿè´£è¿æ¥ View å’Œ Modelã€‚ViewModel é€šè¿‡å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œå°†æ•°æ®è½¬æ¢ä¸ºè§†å›¾éœ€è¦çš„å½¢å¼ï¼Œå¹¶é€šè¿‡ç»‘å®šçš„æ–¹å¼é€šçŸ¥è§†å›¾æ›´æ–°ã€‚</li>
</ul>
<h3 id="2-2-MVVM-ç‰¹ç‚¹"><a href="#2-2-MVVM-ç‰¹ç‚¹" class="headerlink" title="2.2 MVVM ç‰¹ç‚¹"></a>2.2 MVVM ç‰¹ç‚¹</h3><ul>
<li>è§£è€¦ï¼šView å’Œ Model ç›¸äº’ç‹¬ç«‹ï¼ŒViewModel æ‰¿æ‹…æ•°æ®è½¬æ¢ä»»åŠ¡ï¼Œå‡å°‘ UI å’Œä¸šåŠ¡é€»è¾‘çš„è€¦åˆã€‚</li>
<li>æ•°æ®é©±åŠ¨ï¼šViewModel ä¸­çš„å±æ€§é€šå¸¸æ˜¯å¯è§‚å¯Ÿçš„ï¼ˆä¾‹å¦‚ SwiftUI ä¸­çš„ @Published å±æ€§ï¼‰ï¼Œä½¿å¾—æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘ UI æ›´æ–°ã€‚</li>
<li>å•å‘æ•°æ®æµï¼šModel æ›´æ–°æ—¶ï¼Œé€šçŸ¥ ViewModelï¼Œè¿›è€Œé€šçŸ¥ Viewï¼›ç”¨æˆ·æ“ä½œä» View ä¼ é€’åˆ° ViewModel è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
<p><img src="/2024/12/06/Stanford-cs193p-03%EF%BD%9CMVVM/cs193p03_MVVM.png"></p>
<h3 id="2-3-æ•°æ®æµåœ¨-MVVM-ä¸­çš„è¿ä½œ"><a href="#2-3-æ•°æ®æµåœ¨-MVVM-ä¸­çš„è¿ä½œ" class="headerlink" title="2.3 æ•°æ®æµåœ¨ MVVM ä¸­çš„è¿ä½œ"></a>2.3 æ•°æ®æµåœ¨ MVVM ä¸­çš„è¿ä½œ</h3><ul>
<li><p><strong>ä» Model åˆ° View</strong></p>
<ol>
<li>ViewModel ä» Model è·å–æ•°æ®ï¼ˆå¦‚ä»ç½‘ç»œæˆ–æœ¬åœ°åŠ è½½ï¼‰ã€‚</li>
<li>ViewModel é€šè¿‡ @Published å±æ€§å°†æ•°æ®æš´éœ²ç»™è§†å›¾ã€‚</li>
<li>è§†å›¾è§‚å¯Ÿ ViewModelï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚</li>
</ol>
</li>
<li><p><strong>ä» View åˆ° Model</strong></p>
<ol>
<li>ç”¨æˆ·åœ¨è§†å›¾ä¸­è¿›è¡Œäº¤äº’</li>
<li>äº¤äº’äº‹ä»¶è§¦å‘ ViewModel çš„æ–¹æ³•</li>
<li>ViewModel ä¿®æ”¹ Model æˆ–å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œæ›´æ–°æ•°æ®åé€šçŸ¥è§†å›¾ã€‚</li>
</ol>
</li>
</ul>
<h3 id="2-4-è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰"><a href="#2-4-è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰" class="headerlink" title="2.4 è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰"></a>2.4 è¡¥å……ä¸¾ä¾‹ï¼ˆéè§†é¢‘å†…å®¹ï¼‰</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ SwiftUI ä¸­å®ç° MVVM æ¶æ„ã€‚</p>
<blockquote>
<p>è¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†è¾…åŠ©ç†è§£ MVVM æ¶æ„ï¼Œä¸ç”¨å®ç°ã€‚</p>
</blockquote>
<h4 id="2-4-1-æ¨¡å‹å±‚ï¼ˆModelï¼‰"><a href="#2-4-1-æ¨¡å‹å±‚ï¼ˆModelï¼‰" class="headerlink" title="2.4.1 æ¨¡å‹å±‚ï¼ˆModelï¼‰"></a>2.4.1 æ¨¡å‹å±‚ï¼ˆModelï¼‰</h4><p>æ¨¡å‹è´Ÿè´£è¡¨ç¤ºåº”ç”¨çš„æ•°æ®ç»“æ„ã€‚é€šå¸¸æ˜¯ç®€å•çš„æ•°æ®ç±»å‹ï¼Œå¯èƒ½ä»æœåŠ¡å™¨æˆ–æœ¬åœ°æ•°æ®åº“åŠ è½½ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Habit</span>: <span class="title class_ inherited__">Identifiable</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> isCompleted: <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-2-è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰"><a href="#2-4-2-è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰" class="headerlink" title="2.4.2 è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰"></a>2.4.2 è§†å›¾æ¨¡å‹å±‚ï¼ˆViewModelï¼‰</h4><p><code>ViewModel</code> è´Ÿè´£ç®¡ç†ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ï¼Œå¹¶é€šè¿‡æ•°æ®ç»‘å®šå°†æ•°æ®æš´éœ²ç»™è§†å›¾ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HabitViewModel</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="comment">// å¯è§‚å¯Ÿçš„å±æ€§ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°</span></span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> habits: [<span class="type">Habit</span>] <span class="operator">=</span> [</span><br><span class="line">        <span class="type">Habit</span>(id: <span class="number">1</span>, name: <span class="string">&quot;Exercise&quot;</span>, isCompleted: <span class="literal">false</span>),</span><br><span class="line">        <span class="type">Habit</span>(id: <span class="number">2</span>, name: <span class="string">&quot;Read a Book&quot;</span>, isCompleted: <span class="literal">true</span>)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ä¹ æƒ¯å®ŒæˆçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">toggleHabitCompletion</span>(<span class="keyword">_</span> <span class="params">habit</span>: <span class="type">Habit</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index <span class="operator">=</span> habits.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> habit.id &#125;) &#123;</span><br><span class="line">            habits[index].isCompleted.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@Published</code>ï¼šä½¿å¾— <code>habits</code> çš„å˜åŒ–å¯ä»¥è¢« SwiftUI çš„ <code>View</code> è§‚å¯Ÿåˆ°ï¼Œä»è€Œè§¦å‘ UI æ›´æ–°ã€‚</li>
<li><strong>æ–¹æ³•</strong>ï¼šå°è£…äº†ä¸šåŠ¡é€»è¾‘ï¼Œä¾‹å¦‚åˆ‡æ¢ä¹ æƒ¯å®ŒæˆçŠ¶æ€ã€‚</li>
</ul>
<h4 id="2-4-3-è§†å›¾å±‚ï¼ˆViewï¼‰"><a href="#2-4-3-è§†å›¾å±‚ï¼ˆViewï¼‰" class="headerlink" title="2.4.3 è§†å›¾å±‚ï¼ˆViewï¼‰"></a>2.4.3 è§†å›¾å±‚ï¼ˆViewï¼‰</h4><p>è§†å›¾æ˜¯å®Œå…¨å£°æ˜å¼çš„ï¼Œåªå…³æ³¨ UI å’Œæ•°æ®çš„ç»‘å®šï¼Œä¸ç›´æ¥æ“ä½œ <code>Model</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">HabitListView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">private</span> <span class="keyword">var</span> viewModel <span class="operator">=</span> <span class="type">HabitViewModel</span>() <span class="comment">// åˆ›å»º ViewModel å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">NavigationView</span> &#123;</span><br><span class="line">            <span class="type">List</span>(viewModel.habits) &#123; habit <span class="keyword">in</span></span><br><span class="line">                <span class="type">HStack</span> &#123;</span><br><span class="line">                    <span class="type">Text</span>(habit.name)</span><br><span class="line">                    <span class="type">Spacer</span>()</span><br><span class="line">                    <span class="type">Button</span>(action: &#123;</span><br><span class="line">                        viewModel.toggleHabitCompletion(habit) <span class="comment">// ç”¨æˆ·æ“ä½œé€šçŸ¥ ViewModel</span></span><br><span class="line">                    &#125;) &#123;</span><br><span class="line">                        <span class="type">Image</span>(systemName: habit.isCompleted <span class="operator">?</span> <span class="string">&quot;checkmark.circle.fill&quot;</span> : <span class="string">&quot;circle&quot;</span>)</span><br><span class="line">                            .foregroundColor(habit.isCompleted <span class="operator">?</span> .green : .gray)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            .navigationTitle(<span class="string">&quot;My Habits&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@StateObject</code>ï¼šç”¨äºåˆå§‹åŒ– <code>ViewModel</code>ï¼Œä½¿è§†å›¾èƒ½å¤Ÿè§‚å¯Ÿå…¶çŠ¶æ€å˜åŒ–ã€‚</li>
<li><strong>æ•°æ®ç»‘å®š</strong>ï¼š<code>viewModel.habits</code> ä¸åˆ—è¡¨å†…å®¹ç»‘å®šï¼Œ<code>@Published</code> å±æ€§å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚</li>
<li><strong>ç”¨æˆ·æ“ä½œ</strong>ï¼šé€šè¿‡æŒ‰é’®æ“ä½œè°ƒç”¨ <code>ViewModel</code> æ–¹æ³•ï¼Œè€Œä¸ç›´æ¥æ“ä½œ <code>Model</code>ã€‚</li>
</ul>
<h2 id="3-Varieties-of-Types"><a href="#3-Varieties-of-Types" class="headerlink" title="3. Varieties of Types"></a>3. Varieties of Types</h2><h3 id="3-1-struct-and-class"><a href="#3-1-struct-and-class" class="headerlink" title="3.1 struct and class"></a>3.1 struct and class</h3><h4 id="3-1-1-struct-class-å…±åŒç‚¹"><a href="#3-1-1-struct-class-å…±åŒç‚¹" class="headerlink" title="3.1.1 struct &amp; class å…±åŒç‚¹"></a>3.1.1 struct &amp; class å…±åŒç‚¹</h4><p>åœ¨ Swift ä¸­ï¼Œ<code>struct</code> å’Œ <code>class</code> å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><p><strong>è¯­æ³•ç›¸ä¼¼</strong>ï¼šå®ƒä»¬çš„è¯­æ³•å‡ ä¹å®Œå…¨ç›¸åŒã€‚</p>
</li>
<li><p><strong>å­˜å‚¨å±æ€§</strong>ï¼ˆstored varsï¼‰ï¼šç±»ä¼¼äºä½ ç†Ÿæ‚‰çš„é‚£ç§å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> isFaceUp: <span class="type">Bool</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è®¡ç®—å±æ€§</strong>ï¼ˆcomputed varsï¼‰ï¼šå…¶å€¼æ˜¯é€šè¿‡è¯„ä¼°ä¸€äº›ä»£ç å¾—å‡ºçš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="type">Text</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¸¸é‡</strong>ï¼ˆconstant letsï¼‰ï¼šå…¶å€¼ä¸ä¼šæ”¹å˜çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColor <span class="operator">=</span> <span class="type">Color</span>.orange</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="type">CardView</span>().foregroundColor(defaultColor)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å‡½æ•°</strong>ï¼ˆfunctionsï¼‰ï¼šå¯ä»¥å®šä¹‰è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">multiply</span>(<span class="params">operand</span>: <span class="type">Int</span>, <span class="params">by</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> operand <span class="operator">*</span> by</span><br><span class="line">&#125;</span><br><span class="line">multiply(operand: <span class="number">5</span>, by: <span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">multiply</span>(<span class="keyword">_</span> <span class="params">operand</span>: <span class="type">Int</span>, <span class="params">by</span> <span class="params">otherOperand</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> operand <span class="operator">*</span> otherOperand</span><br><span class="line">&#125;</span><br><span class="line">multiply(<span class="number">5</span>, by: <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åˆå§‹åŒ–å™¨</strong>ï¼ˆinitializersï¼‰ï¼šåœ¨åˆ›å»º <code>struct</code> æˆ– <code>class</code> æ—¶è°ƒç”¨çš„ç‰¹æ®Šå‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">RoundedRectangle</span> &#123;</span><br><span class="line">	<span class="keyword">init</span>(<span class="params">cornerRadius</span>: <span class="type">CGFloat</span>) &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ cornerRadius åˆå§‹åŒ–çŸ©å½¢</span></span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">init</span>(<span class="params">cornerSize</span>: <span class="type">CGSize</span>) &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ cornerSize åˆå§‹åŒ–çŸ©å½¢</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="3-1-2-struct-vs-class-åŒºåˆ«"><a href="#3-1-2-struct-vs-class-åŒºåˆ«" class="headerlink" title="3.1.2 struct vs class åŒºåˆ«"></a>3.1.2 struct vs class åŒºåˆ«</h4><table>
<thead>
<tr>
<th>struct</th>
<th>class</th>
</tr>
</thead>
<tbody><tr>
<td>å€¼ç±»å‹</td>
<td>å¼•ç”¨ç±»å‹</td>
</tr>
<tr>
<td>ä¼ é€’æˆ–èµ‹å€¼æ—¶ä¼šè¢«å¤åˆ¶</td>
<td>é€šè¿‡æŒ‡é’ˆä¼ é€’</td>
</tr>
<tr>
<td>å¤åˆ¶æ—¶å†™å…¥ï¼ˆåªæœ‰åœ¨è¢«ä¿®æ”¹æ—¶æ‰çœŸæ­£å¤åˆ¶ï¼‰</td>
<td>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</td>
</tr>
<tr>
<td>å‡½æ•°å¼ç¼–ç¨‹</td>
<td>é¢å‘å¯¹è±¡ç¼–ç¨‹</td>
</tr>
<tr>
<td>ä¸æ”¯æŒç»§æ‰¿</td>
<td>æ”¯æŒå•ç»§æ‰¿</td>
</tr>
<tr>
<td>â€œå…è´¹çš„â€ <strong>init</strong>åˆå§‹åŒ–æ‰€æœ‰çš„ <strong>var</strong></td>
<td>â€œå…è´¹çš„â€ <strong>init</strong> ä¸åˆå§‹åŒ–ä»»ä½• <strong>var</strong></td>
</tr>
<tr>
<td>å¯å˜æ€§æ˜¯æ˜¾å¼çš„ï¼ˆ<strong>var</strong> ä¸ <strong>let</strong> çš„åŒºåˆ†ï¼‰</td>
<td>å§‹ç»ˆå¯å˜</td>
</tr>
<tr>
<td>å¸¸ç”¨çš„æ•°æ®ç»“æ„</td>
<td>åœ¨ç‰¹å®šæƒ…å†µä¸‹ä½¿ç”¨</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>å€¼ç±»å‹ vs å¼•ç”¨ç±»å‹</strong>ï¼š<code>struct</code> æ˜¯å€¼ç±»å‹ï¼Œè¿™æ„å‘³ç€å½“å®ƒä»¬è¢«ä¼ é€’æˆ–èµ‹å€¼æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‰¯æœ¬ï¼›è€Œ <code>class</code> æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼ é€’æˆ–èµ‹å€¼æ—¶åªæ˜¯å°†å¼•ç”¨æŒ‡å‘åŒä¸€å®ä¾‹ã€‚</p>
</li>
<li><p><strong>å¤åˆ¶æ—¶å†™å…¥</strong>ï¼šå¯¹äº <code>struct</code>ï¼Œåªæœ‰åœ¨å®ƒä»¬è¢«ä¿®æ”¹æ—¶ï¼Œæ‰ä¼šç”Ÿæˆæ–°çš„å‰¯æœ¬ï¼ˆå†™æ—¶å¤åˆ¶ï¼‰ï¼Œè¿™é€šå¸¸ç”¨äºä¼˜åŒ–å†…å­˜ä½¿ç”¨ã€‚</p>
</li>
<li><p><strong>è‡ªåŠ¨å¼•ç”¨è®¡æ•°</strong>ï¼š<code>class</code> çš„å®ä¾‹ä¼šè¢« Swift çš„å†…å­˜ç®¡ç†ç³»ç»Ÿè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼Œè¿™æ„å‘³ç€å½“æ²¡æœ‰å¼ºå¼•ç”¨æŒ‡å‘æŸä¸ªå®ä¾‹æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</p>
</li>
<li><p><strong>å‡½æ•°å¼ç¼–ç¨‹ vs é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>ï¼š<code>struct</code> å¸¸ç”¨äºå‡½æ•°å¼ç¼–ç¨‹èŒƒå¼ï¼Œè€Œ <code>class</code> åˆ™å¹¿æ³›ç”¨äºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œåè€…å¼ºè°ƒå¯¹è±¡çš„å°è£…å’Œç»§æ‰¿ã€‚</p>
</li>
<li><p><strong>ç»§æ‰¿</strong>ï¼š<code>struct</code> ä¸æ”¯æŒç»§æ‰¿ï¼Œå› æ­¤å®ƒä¸èƒ½ä»å…¶å®ƒç»“æ„ä½“æ´¾ç”Ÿï¼›è€Œ <code>class</code> æ”¯æŒå•å±‚ç»§æ‰¿ï¼Œå…è®¸å­ç±»ä»çˆ¶ç±»ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ã€‚</p>
</li>
<li><p><strong>åˆå§‹åŒ–å™¨</strong>ï¼šå¯¹äº <code>struct</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒSwift ä¼šç”Ÿæˆä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼Œç¡®ä¿æ‰€æœ‰å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼›è€Œ <code>class</code> çš„é»˜è®¤åˆå§‹åŒ–å™¨ä¸ä¼šåˆå§‹åŒ–ä»»ä½•å±æ€§ï¼Œé™¤éä½ è‡ªå·±å®šä¹‰ã€‚</p>
</li>
<li><p><strong>å¯å˜æ€§</strong>ï¼šåœ¨ä½¿ç”¨ <code>struct</code> æ—¶ï¼Œå˜é‡ï¼ˆ<code>var</code>ï¼‰å’Œå¸¸é‡ï¼ˆ<code>let</code>ï¼‰çš„å®šä¹‰å½±å“å…¶å¯å˜æ€§ï¼Œå› æ­¤ä½ éœ€è¦æ˜¾å¼å£°æ˜ï¼›è€Œ <code>class</code> å®ä¾‹çš„å±æ€§é»˜è®¤æ˜¯å¯å˜çš„ï¼Œä¸è®ºæ˜¯ç”¨ <code>var</code> è¿˜æ˜¯ <code>let</code>ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šåœ¨å¼€å‘ä¸­ï¼Œ<code>struct</code> é€šå¸¸æ˜¯æ›´å¸¸ç”¨çš„é€‰æ‹©ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬æä¾›äº†æ›´å¥½çš„å†…å­˜ç®¡ç†å’Œæ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦å€¼ä¼ é€’çš„åœºæ™¯ï¼›è€Œ <code>class</code> åˆ™é€‚åˆéœ€è¦å…±äº«çŠ¶æ€æˆ–éœ€è¦ç»§æ‰¿çš„æƒ…å†µã€‚</p>
</li>
</ul>
<blockquote>
<p>æˆªæ­¢ç›®å‰è¯¾ç¨‹æ‰€çœ‹åˆ°çš„éƒ½æ˜¯ <code>struct</code>ï¼ŒMVVM æ¶æ„ä¸­çš„ ViewModel æ˜¯ <code>class</code>ã€‚</p>
</blockquote>
<h3 id="3-2-Generics-æ³›å‹"><a href="#3-2-Generics-æ³›å‹" class="headerlink" title="3.2 Generics æ³›å‹"></a>3.2 Generics æ³›å‹</h3><ul>
<li>æœ‰æ—¶æˆ‘ä»¬ä¸å…³å¿ƒå…·ä½“ç±»å‹ï¼Œæƒ³æ“ä½œç±»å‹æ— å…³çš„æ•°æ®ç»“æ„ã€‚</li>
<li>Swift æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æ— ç±»å‹çš„å˜é‡ã€‚è§£å†³åŠæ³•æ˜¯ä½¿ç”¨â€œæ³›å‹â€ã€‚</li>
</ul>
<h4 id="3-2-1-Generics-ç¤ºä¾‹ï¼šArray"><a href="#3-2-1-Generics-ç¤ºä¾‹ï¼šArray" class="headerlink" title="3.2.1 Generics ç¤ºä¾‹ï¼šArray"></a>3.2.1 Generics ç¤ºä¾‹ï¼š<code>Array</code></h4><ul>
<li><p><code>Array</code> å¯ä»¥åŒ…å«å¤šç§ç±»å‹çš„å…ƒç´ è€Œä¸å…³å¿ƒå…·ä½“ç±»å‹ã€‚</p>
</li>
<li><p><code>Array</code> çš„å£°æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Array</span>&lt;<span class="type">Element</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">append</span>(<span class="keyword">_</span> <span class="params">element</span>: <span class="type">Element</span>) &#123; <span class="operator">...</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>append</code> çš„å‚æ•°æ˜¯ <code>Element</code>ï¼Œè¡¨ç¤ºä¸€ç§â€œæ— æ‰€è°“â€ç±»å‹ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>Array</code> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå…·ä½“ç±»å‹ï¼Œå¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­¤æ—¶ Element ä¸º Int ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()</span><br><span class="line">a.append(<span class="number">5</span>)</span><br><span class="line">a.append(<span class="number">22</span>)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­¤æ—¶ Element ä¸º String ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> a <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">String</span>&gt;()</span><br><span class="line">a.append(<span class="string">&quot;ğŸŒ¼&quot;</span>)</span><br><span class="line">a.append(<span class="string">&quot;ğŸ‰&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Element</code> çš„ç±»å‹åœ¨ä½¿ç”¨ <code>Array</code> æ—¶ç¡®å®šã€‚</p>
</li>
<li><p>æ³›å‹å…è®¸åŒæ—¶ä½¿ç”¨å¤šä¸ªç±»å‹å‚æ•°ï¼ˆå¦‚ <code>&lt;Element, Foo&gt;</code>ï¼‰ã€‚</p>
</li>
<li><p>â€œæ— æ‰€è°“â€ç±»å‹ç§°ä¸º <strong>ç±»å‹å‚æ•°</strong>ã€‚</p>
</li>
</ul>
<p>æ€»ä¹‹ï¼Œæ³›å‹èƒ½è®©æˆ‘ä»¬åœ¨ä¸çŸ¥é“å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹çµæ´»æ“ä½œæ•°æ®ç»“æ„ã€‚</p>
<h3 id="3-3-protocol-åè®®"><a href="#3-3-protocol-åè®®" class="headerlink" title="3.3 protocol åè®®"></a>3.3 protocol åè®®</h3><h4 id="3-3-1-protocol-åè®®çš„ç‰¹ç‚¹"><a href="#3-3-1-protocol-åè®®çš„ç‰¹ç‚¹" class="headerlink" title="3.3.1 protocol åè®®çš„ç‰¹ç‚¹"></a>3.3.1 protocol åè®®çš„ç‰¹ç‚¹</h4><h5 id="1-protocol-æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨"><a href="#1-protocol-æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨" class="headerlink" title="1. protocol æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨"></a><strong>1. protocol æœ‰å‡½æ•°å’Œæ–¹æ³•ï¼Œä½†ä¸èƒ½å…·ä½“å®ç°æˆ–å­˜å‚¨</strong></h5><p>å£°æ˜ä¸€ä¸ªåè®®çš„è¯­æ³•ä¸ struct æˆ– class å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯æ²¡æœ‰å…·ä½“å®ç°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">protocol</span> <span class="title class_">Moveable</span> &#123;</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">move</span>(<span class="params">by</span>: <span class="type">Int</span>)</span><br><span class="line"><span class="keyword">var</span> hasMoved: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"><span class="keyword">var</span> distanceFromStart: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><code>&#123; &#125;</code> ä¸­çš„å†…å®¹ç”¨äºè¯´æ˜è¯¥åè®®çš„å˜é‡æ˜¯åªè¯»ï¼ˆgetï¼‰è¿˜æ˜¯å¯è¯»å†™ï¼ˆget setï¼‰ã€‚</p>
<p><strong>ä¸¾ä¾‹è¯´æ˜</strong></p>
<p>ä»»æ„ç±»å‹éƒ½å¯ä»¥å®ç° Moveable åè®®ï¼Œåªéœ€è¦åœ¨ struct å†…éƒ¨å®ç° <code>move(by)</code> ã€<code>hasMoved</code> å’Œ <code>distanceFromStart</code> æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">PortableThing</span>: <span class="title class_ inherited__">Moveable</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç° move(by:)ã€hasMoved å’Œ distanceFromStart</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ <code>PortableThing</code> ç»“æ„ä½“ä¾¿ç¬¦åˆ <code>Moveable</code> åè®®ã€‚</p>
<h5 id="2-protocol-åè®®å¯ä»¥ç»§æ‰¿å…¶ä»–-protocol"><a href="#2-protocol-åè®®å¯ä»¥ç»§æ‰¿å…¶ä»–-protocol" class="headerlink" title="2. protocol åè®®å¯ä»¥ç»§æ‰¿å…¶ä»– protocol"></a>2. <strong>protocol</strong> åè®®å¯ä»¥ç»§æ‰¿å…¶ä»– protocol</h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Vehicle</span>: <span class="title class_ inherited__">Moveable</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> passengerCount: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>: <span class="title class_ inherited__">Vehicle</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç° move(by:)ã€hasMovedã€distanceFromStart å’Œ passengerCount</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®"><a href="#3-ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®" class="headerlink" title="3. ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®"></a>3. ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®</h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>: <span class="title class_ inherited__">Vehicle</span>, <span class="title class_ inherited__">Impoundable</span>, <span class="title class_ inherited__">Leasable</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¿…é¡»å®ç°æ‰€æœ‰åè®®ä¸­çš„å‡½æ•°å’Œå˜é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-protocol-åè®®çš„ç”¨é€”"><a href="#3-3-2-protocol-åè®®çš„ç”¨é€”" class="headerlink" title="3.3.2 protocol åè®®çš„ç”¨é€”"></a>3.3.2 protocol åè®®çš„ç”¨é€”</h4><ol>
<li><p><strong>ç»Ÿä¸€è¡Œä¸ºå®šä¹‰</strong></p>
<p>åè®®å¯ä»¥ç”¨äºå®šä¹‰ä¸€ç»„ç±»å‹çš„å…±åŒè¡Œä¸ºï¼Œè€Œæ— éœ€å…³å¿ƒè¿™äº›ç±»å‹çš„å…·ä½“å®ç°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protocol</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Bird</span>: <span class="title class_ inherited__">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>() &#123;</span><br><span class="line">	  <span class="built_in">print</span>(<span class="string">&quot;Bird is flying!&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Airplane</span>: <span class="title class_ inherited__">Flyable</span> &#123;</span><br><span class="line">  <span class="keyword">func</span> <span class="title function_">fly</span>() &#123;</span><br><span class="line">	  <span class="built_in">print</span>(<span class="string">&quot;Airplane is flying!&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> flyer: [<span class="type">Flyable</span>] <span class="operator">=</span> [<span class="type">Bird</span>(), <span class="type">Airplane</span>()]</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> flyer &#123;</span><br><span class="line">  item.fly()  <span class="comment">// ä¸åŒç±»å‹çš„å¯¹è±¡éƒ½å¯ä»¥é£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Flyable å®šä¹‰äº†æ‰€æœ‰å¯é£è¡Œçš„ç±»å‹åº”å…·å¤‡çš„è¡Œä¸ºã€‚</li>
<li>é€šè¿‡åè®®ï¼Œå¯ä»¥ç»Ÿä¸€å¤„ç† Bird å’Œ Airplane ç­‰ç¬¦åˆåè®®çš„ç±»å‹ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œæ¯”å¦‚ï¼Œ<code>struct ContentView: View</code>Â  ä½¿å¾— Â <code>ContentView</code>Â  æˆä¸ºä¸€ä¸ªå¼ºå¤§çš„ç»“æ„ä½“ï¼Œè™½ç„¶éœ€è¦å®ç° Â <code>var body</code>Â  æ¥æ»¡è¶³ Â <code>View</code>Â  åè®®ã€‚</p>
</li>
<li><p><strong>åè®®ä¸æ³›å‹</strong></p>
<p>åè®®å¯ä»¥ä¸æ³›å‹ç»“åˆï¼Œçº¦æŸæ³›å‹å‚æ•°å¿…é¡»ç¬¦åˆæŸäº›åè®®ï¼Œä»è€Œæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">printDetails</span>&lt;<span class="type">T</span>: <span class="type">CustomStringConvertible</span>&gt;(<span class="keyword">_</span> <span class="params">item</span>: <span class="type">T</span>) &#123;</span><br><span class="line">  <span class="built_in">print</span>(item.description)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printDetails(<span class="number">42</span>)            <span class="comment">// è¾“å‡ºï¼š42</span></span><br><span class="line">printDetails(<span class="string">&quot;Swift Rocks&quot;</span>) <span class="comment">// è¾“å‡ºï¼šSwift Rocks</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>æ³›å‹å‚æ•° T å¿…é¡»ç¬¦åˆ CustomStringConvertible åè®®ã€‚</li>
<li>è¿™ç§çº¦æŸç¡®ä¿å‡½æ•°å¯ä»¥ä½¿ç”¨ description å±æ€§ï¼Œè€Œä¸ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</li>
</ul>
<h4 id="3-3-3-å¸¸è§åè®®ç¤ºä¾‹"><a href="#3-3-3-å¸¸è§åè®®ç¤ºä¾‹" class="headerlink" title="3.3.3 å¸¸è§åè®®ç¤ºä¾‹"></a>3.3.3 å¸¸è§åè®®ç¤ºä¾‹</h4><p>å¸¸è§åè®®åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>Identifiable</strong></li>
<li><strong>Hashable</strong></li>
<li><strong>Equatable</strong></li>
<li><strong>CustomStringConvertible</strong></li>
<li>ç‰¹å®šçš„åè®®å¦‚ <strong>Animatable</strong>ã€‚</li>
</ul>
<h4 id="3-3-4-åè®®çš„ä¼˜ç‚¹"><a href="#3-3-4-åè®®çš„ä¼˜ç‚¹" class="headerlink" title="3.3.4 åè®®çš„ä¼˜ç‚¹"></a>3.3.4 åè®®çš„ä¼˜ç‚¹</h4><ol>
<li><strong>å®šä¹‰è¡Œä¸ºçš„è“å›¾</strong>ï¼šç”¨äºç»Ÿä¸€å®šä¹‰ä¸€ç»„è¡Œä¸ºï¼ˆæ–¹æ³•ã€å±æ€§ï¼‰ã€‚</li>
<li><strong>å®ç°å¤šæ€æ€§</strong>ï¼šä½¿ä¸åŒç±»å‹å¯ä»¥é€šè¿‡ç»Ÿä¸€æ¥å£äº¤äº’ã€‚</li>
<li><strong>æ³›å‹çº¦æŸ</strong>ï¼šæå‡ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œå¤ç”¨æ€§ã€‚</li>
<li><strong>åè®®æ‰©å±•</strong>ï¼šå‡å°‘é‡å¤ä»£ç ï¼Œä¸ºåè®®æä¾›é»˜è®¤å®ç°ã€‚</li>
<li><strong>çµæ´»ç»„åˆ</strong>ï¼šé€šè¿‡åè®®ç»„åˆæ„å»ºæ›´å¼ºå¤§çš„æ¥å£ã€‚</li>
</ol>
<h3 id="3-4-enum"><a href="#3-4-enum" class="headerlink" title="3.4 enum"></a>3.4 <code>enum</code></h3><blockquote>
<p>æœ¬èŠ‚ç•¥è¿‡ï¼Œä½†å¾ˆé‡è¦ã€‚</p>
</blockquote>
<h3 id="3-5-Functions"><a href="#3-5-Functions" class="headerlink" title="3.5 Functions"></a>3.5 Functions</h3><p>å‡½æ•°ç±»å‹å¯ä»¥åƒå…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œç”±å‚æ•°ç±»å‹åˆ—è¡¨å’Œè¿”å›ç±»å‹ç»„æˆã€‚è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">(å‚æ•°ç±»å‹åˆ—è¡¨) -&gt; è¿”å›ç±»å‹</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">square</span>(<span class="params">operand</span>: <span class="type">Double</span>) -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> operand <span class="operator">*</span> operand</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> operation <span class="operator">=</span> square <span class="comment">// just assigning a value to the operation vars, nothing more</span></span><br><span class="line"><span class="keyword">let</span> result1 <span class="operator">=</span> operation(<span class="number">4</span>) <span class="comment">// result1 would equal 16</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>square</code> å‡½æ•°çš„ç±»å‹ï¼š<code>(Double) -&gt; Double</code>ï¼Œè¡¨ç¤ºæ¥æ”¶ä¸€ä¸ª <code>Double</code> å‚æ•°å¹¶è¿”å›ä¸€ä¸ª <code>Doubel</code> å€¼ã€‚</li>
<li><code>operation</code> æ˜¯ä¸€ä¸ªå˜é‡ï¼šå­˜å‚¨äº†å‡½æ•° <code>square</code>ï¼Œå¯ä»¥é€šè¿‡å˜é‡è°ƒç”¨ã€‚</li>
</ul>
<p><strong>å‡½æ•°ç±»å‹ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><code>(Int, Int) -&gt; Bool</code>ï¼šæ¥å—ä¸¤ä¸ª Int ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª Bool å€¼ã€‚</li>
<li><code>(Double) -&gt; Void</code>ï¼šæ¥å—ä¸€ä¸ª Double ç±»å‹å‚æ•°ï¼Œæ— è¿”å›å€¼ã€‚</li>
<li><code>() -&gt; Array&lt;String&gt;</code>ï¼šä¸æ¥å—å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª String æ•°ç»„ã€‚</li>
<li><code>() -&gt; Void</code>ï¼šä¸æ¥å—å‚æ•°ï¼Œæ— è¿”å›å€¼ï¼ˆè¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„ç”¨æ³•ï¼‰ã€‚</li>
</ul>
<p>åœ¨ Swift ä¸­ï¼Œå‡½æ•°ç±»å‹å¯ä»¥åƒå…¶ä»–ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œå¯ä»¥å­˜å‚¨å‡½æ•°å¹¶é€šè¿‡å˜é‡è°ƒç”¨ã€‚</p>
<h4 id="3-5-1-é—­åŒ…ç±»å‹ï¼ˆFunction-as-typeï¼‰"><a href="#3-5-1-é—­åŒ…ç±»å‹ï¼ˆFunction-as-typeï¼‰" class="headerlink" title="3.5.1 é—­åŒ…ç±»å‹ï¼ˆFunction as typeï¼‰"></a>3.5.1 é—­åŒ…ç±»å‹ï¼ˆFunction as typeï¼‰</h4><p>å‡½æ•°ç±»å‹ä¹Ÿé€‚ç”¨äºé—­åŒ…ã€‚é—­åŒ…æ˜¯æœªå‘½åçš„å‡½æ•°ï¼Œå®ƒçš„è¯­æ³•æ›´åŠ ç®€æ´ã€‚ä½ å¯ä»¥å°†é—­åŒ…å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œæˆ–ç›´æ¥ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€œå†…è”å‡½æ•°â€ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> operation: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="operator">=</span> &#123; (a: <span class="type">Int</span>, b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">+</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(operation(<span class="number">4</span>, <span class="number">6</span>))  <span class="comment">// è¾“å‡ºï¼š10</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ Swift ä¸­ï¼Œè®¸å¤š SwiftUI çš„åŠŸèƒ½ï¼ˆå¦‚@ViewBuilders å’Œ onTapGesture çš„åŠ¨ä½œï¼‰éƒ½æ˜¯é€šè¿‡é—­åŒ…å®ç°çš„ã€‚</p>
<h2 id="4-Demo"><a href="#4-Demo" class="headerlink" title="4. Demo"></a>4. Demo</h2><p>ç”±äº demo å¤ªçŸ­ï¼ˆå¤§çº¦åªæœ‰ 15 åˆ†é’Ÿï¼‰ï¼Œå°†è¿™èŠ‚è¯¾çš„ demo åˆå¹¶åˆ°ä¸‹ä¸€ç¯‡ç¬”è®°ä¸­ã€‚</p>
]]></content>
      <categories>
        <category>code</category>
        <category>swift</category>
      </categories>
      <tags>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>Stanford cs193p 04ï½œMVVM åº”ç”¨</title>
    <url>/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ˜¯æ–¯å¦ç¦å¤§å­¦ cs193p å…¬å¼€è¯¾ç¨‹ç¬¬ 04 é›†çš„ç›¸å…³ç¬”è®°ã€‚</p>
<span id="more"></span>

<p>cs193p è¯¾ç¨‹ä»‹ç»:</p>
<blockquote>
<p>The lectures for the Spring 2023 version of Stanford Universityâ€™s course CS193p (Developing Applications for iOS using SwiftUI) were given in person but, unfortunately, were not video recorded. However, we did capture the laptop screen of the presentations and demos as well as the associated audio. You can watch these screen captures using the links below. Youâ€™ll also find links to supporting material that was distributed to students during the quarter (homework, demo code, etc.).</p>
</blockquote>
<p>cs193p è¯¾ç¨‹ç½‘å€: <a href="https://cs193p.sites.stanford.edu/2023">https://cs193p.sites.stanford.edu/2023</a></p>
<p>ä¸ºä¾¿äºæ¢³ç†ï¼Œæœ¬èŠ‚ç¬”è®°åŒ…å«äº†ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿã€ç¬¬å››èŠ‚è¯¾ä»¥åŠç¬¬äº”èŠ‚è¯¾å‰å››åˆ†é’Ÿçš„å†…å®¹ã€‚</p>
<hr>
<h2 id="1-ç¬¬ä¸‰èŠ‚è¯¾æœ€å-15-åˆ†é’Ÿ"><a href="#1-ç¬¬ä¸‰èŠ‚è¯¾æœ€å-15-åˆ†é’Ÿ" class="headerlink" title="1. ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿ"></a>1. ç¬¬ä¸‰èŠ‚è¯¾æœ€å 15 åˆ†é’Ÿ</h2><h3 id="1-1-æ•´ç†ä»£ç "><a href="#1-1-æ•´ç†ä»£ç " class="headerlink" title="1.1 æ•´ç†ä»£ç "></a>1.1 æ•´ç†ä»£ç </h3><p>æˆ‘ä»¬åœ¨åº”ç”¨ MVVM è®¾è®¡æ€æƒ³å‰éœ€è¦æ¸…ç†ä¸€ä¸‹ä»£ç ã€‚</p>
<p>ç§»é™¤ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">var</span> cardCount: <span class="type">Int</span> <span class="operator">=</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cardCountAdjsters: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">HStack</span> &#123;</span><br><span class="line">        cardRemover</span><br><span class="line">        <span class="type">Spacer</span>()</span><br><span class="line">        cardAdder</span><br><span class="line">    &#125;</span><br><span class="line">    .imageScale(.large)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">cardCountAdjsters</span>(<span class="params">by</span> <span class="params">offset</span>: <span class="type">Int</span>, <span class="params">symbol</span>: <span class="type">String</span>) -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(action: &#123;</span><br><span class="line">        cardCount <span class="operator">+=</span> offset</span><br><span class="line">    &#125;, label: &#123;</span><br><span class="line">        <span class="type">Image</span>(systemName: symbol)</span><br><span class="line">    &#125;)</span><br><span class="line">    .disabled(cardCount <span class="operator">+</span> offset <span class="operator">&lt;</span> <span class="number">1</span> <span class="operator">||</span> cardCount <span class="operator">+</span> offset <span class="operator">&gt;</span> emojis.count)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardRemover: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjsters(by: <span class="operator">-</span><span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.minus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cardAdder: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> cardCountAdjsters(by: <span class="number">1</span>, symbol: <span class="string">&quot;rectangle.stack.badge.plus.fill&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹æˆä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="operator">...</span></span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            cardCountAdjsters</span><br><span class="line">        &#125;</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="comment">// change to</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            cards</span><br><span class="line">        &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">            <span class="type">ForEach</span>(<span class="number">0</span><span class="operator">..&lt;</span>cardCount, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line"><span class="comment">// change to</span></span><br><span class="line">            <span class="type">ForEach</span>(emojis.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-æ–°å»ºä¸€ä¸ª-Model-æ–‡ä»¶"><a href="#1-2-æ–°å»ºä¸€ä¸ª-Model-æ–‡ä»¶" class="headerlink" title="1.2 æ–°å»ºä¸€ä¸ª Model æ–‡ä»¶"></a>1.2 æ–°å»ºä¸€ä¸ª Model æ–‡ä»¶</h3><p><code>File</code> -&gt; <code>New</code> -&gt; <code>File</code> -&gt; <code>Swift File</code>, å¹¶å°†æ–‡ä»¶å‘½åä¸º MemorizeGame</p>
<p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_newFile.png"></p>
<p><strong>å®ç°ï¼ˆå†™ï¼‰ä¸€ä¸ª MemorizeGame (Model):</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Card</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span></span><br><span class="line">        <span class="keyword">var</span> isMatched: <span class="type">Bool</span></span><br><span class="line">        <span class="keyword">var</span> content: <span class="type">CardContent</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-æ–°å»ºä¸€ä¸ª-ViewModel-æ–‡ä»¶"><a href="#1-3-æ–°å»ºä¸€ä¸ª-ViewModel-æ–‡ä»¶" class="headerlink" title="1.3 æ–°å»ºä¸€ä¸ª ViewModel æ–‡ä»¶"></a>1.3 æ–°å»ºä¸€ä¸ª ViewModel æ–‡ä»¶</h3><p><code>File</code> -&gt; <code>New</code> -&gt; <code>File</code> -&gt; <code>Swift File</code>, then named as EmojiMemoryGame</p>
<p><strong>å®ç°ï¼ˆå†™ï¼‰ä¸€ä¸ª MemorizeGame (ViewModel):</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-ç¬¬å››èŠ‚è¯¾"><a href="#2-ç¬¬å››èŠ‚è¯¾" class="headerlink" title="2. ç¬¬å››èŠ‚è¯¾"></a>2. ç¬¬å››èŠ‚è¯¾</h2><h3 id="2-1-è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»"><a href="#2-1-è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»" class="headerlink" title="2.1 è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»"></a>2.1 è®¿é—®æ§åˆ¶ï¼šå®ç°ç”±éƒ¨åˆ†åˆ†ç¦»è½¬ä¸ºå…¨éƒ¨åˆ†ç¦»</h3><h4 id="2-1-1-éƒ¨åˆ†åˆ†ç¦»"><a href="#2-1-1-éƒ¨åˆ†åˆ†ç¦»" class="headerlink" title="2.1.1 éƒ¨åˆ†åˆ†ç¦»"></a>2.1.1 éƒ¨åˆ†åˆ†ç¦»</h4><p>æˆ‘ä»¬æ¥çœ‹çœ‹ MVVM æ–‡ä»¶:</p>
<p><strong>View:</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ContentView.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ContentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Model:</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ViewModel:</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬ç°åœ¨ä»ç„¶å¯ä»¥åœ¨ <code>View</code> ä¸­é€šè¿‡ <code>viewModel.model.xxx</code> ç›´æ¥ä» View è®¿é—® Modelï¼Œå› æ­¤è¿™æ˜¯éƒ¨åˆ†åˆ†ç¦»æ¨¡å¼ã€‚</p>
<h4 id="2-1-2-å®Œå…¨åˆ†ç¦»"><a href="#2-1-2-å®Œå…¨åˆ†ç¦»" class="headerlink" title="2.1.2 å®Œå…¨åˆ†ç¦»"></a>2.1.2 å®Œå…¨åˆ†ç¦»</h4><p>å¦‚æœæˆ‘ä»¬æƒ³é¿å… View ç›´æ¥è®¿é—® Modelï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å…³é”®å­— <code>private</code> æ¥å®ç°ã€‚è¿™è¢«ç§°ä¸ºå®Œå…¨åˆ†ç¦»ã€‚</p>
<p>ä¿®æ”¹ <strong>ViewModel</strong>:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£æˆ‘ä»¬ç°åœ¨å¦‚ä½•è®¿é—® model å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦ä¿®æ”¹ ViewModel è®©å®ƒå¯ä»¥è¢«è®¿é—®ã€‚</p>
<p>è¿™æ˜¯ä¿®æ”¹è¿‡åçš„ <strong>ViewModel</strong>:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">	<span class="comment">// private ä½¿å¾— View æ— æ³•ç›´æ¥è®¿é—® modelï¼›è¿™é‡Œæ„å‘³ç€åœ¨ ViewModel ä¸­ä½¿ç”¨ Model</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åœ¨ ViewModel ä¸­è®¿é—® model ä¸­çš„æ•°æ® cards</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> model.cards</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åœ¨ ViewModel ä¸­å®ç°å¯¹ model ä¸­çš„ card çš„ choose æ“ä½œ</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        model.choose(card: card)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="private-set"><a href="#private-set" class="headerlink" title="private(set)"></a>private(set)</h5><p>å¯¹åº”çš„åœ¨ <code>Model</code> ä¸­åº”è¯¥æ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ</p>
<p><code>private(set)</code> å…³é”®å­—å…è®¸å…¶ä»–å‡½æ•°åªèƒ½è¯»ï¼Œä½†ä¸å¯ä»¥ä¿®æ”¹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-ViewModel-æ–¹æ³•è¡¥å……å’Œ-Model-å¯¹åº”ä¿®æ”¹"><a href="#2-2-ViewModel-æ–¹æ³•è¡¥å……å’Œ-Model-å¯¹åº”ä¿®æ”¹" class="headerlink" title="2.2 ViewModel æ–¹æ³•è¡¥å……å’Œ Model å¯¹åº”ä¿®æ”¹"></a>2.2 ViewModel æ–¹æ³•è¡¥å……å’Œ Model å¯¹åº”ä¿®æ”¹</h3><h4 id="2-2-1-Model-çš„-choose-å‡½æ•°å£°æ˜å’Œ-ViewModel-çš„-choose-å‡½æ•°å£°æ˜è°ƒç”¨"><a href="#2-2-1-Model-çš„-choose-å‡½æ•°å£°æ˜å’Œ-ViewModel-çš„-choose-å‡½æ•°å£°æ˜è°ƒç”¨" class="headerlink" title="2.2.1 Model çš„ choose å‡½æ•°å£°æ˜å’Œ ViewModel çš„ choose å‡½æ•°å£°æ˜è°ƒç”¨"></a>2.2.1 <code>Model</code> çš„ choose å‡½æ•°å£°æ˜å’Œ <code>ViewModel</code> çš„ choose å‡½æ•°å£°æ˜è°ƒç”¨</h4><h5 id="å¿½ç•¥å‡½æ•°æ ‡ç­¾-No-External-Name"><a href="#å¿½ç•¥å‡½æ•°æ ‡ç­¾-No-External-Name" class="headerlink" title="å¿½ç•¥å‡½æ•°æ ‡ç­¾ (No External Name)"></a>å¿½ç•¥å‡½æ•°æ ‡ç­¾ (No External Name)</h5><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">Card</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        model.choose(card)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>choose</code>å‡½æ•°åœ¨è¢«å¤–éƒ¨è°ƒç”¨åä¸éœ€è¦æœ‰å¤–éƒ¨ç§°å‘¼ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åœ¨ä¸€äº›æƒ…å†µä¸‹ä¸éœ€è¦çœç•¥å¤–éƒ¨ç§°å‘¼ï¼š</p>
<ol>
<li>æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ•´æ•°ï¼Œæˆ–ä¸ç¡®å®šçš„ã€‚</li>
<li>æ·»åŠ å¤–éƒ¨ç§°å‘¼å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§ã€‚</li>
</ol>
<h4 id="2-2-2-Model-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ-ViewModel-ç±»åˆå§‹åŒ–"><a href="#2-2-2-Model-ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ-ViewModel-ç±»åˆå§‹åŒ–" class="headerlink" title="2.2.2 Model ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ ViewModel ç±»åˆå§‹åŒ–"></a>2.2.2 <code>Model</code> ç»“æ„ä½“çš„åˆå§‹åŒ–å™¨å’Œ <code>ViewModel</code> ç±»åˆå§‹åŒ–</h4><p>ç±»åˆå§‹å€¼è®¾å®šé¡¹æ²¡æœ‰å‚æ•°ï¼Œå¹¶ä¸”ä»…å½“æ‰€æœ‰å˜é‡éƒ½æœ‰é»˜è®¤å€¼æ—¶æ‰èµ·ä½œç”¨ã€‚ æˆ‘ä»¬æ¥ä¸‹æ¥å¼€å§‹å†™ <strong>ViewModel</strong> (EmojiMemoryGame.swift) åˆå§‹åŒ–å‡½æ•°ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬æƒ³è¦é€šè¿‡ç”¨ <code>numberOfPairsOfCards</code> å’Œ <code>cardContentFactory</code> æ¥åˆå§‹åŒ– <strong>Model</strong> (MemoryGame.swift)ã€‚å› æ­¤æˆ‘ä»¬å…ˆéœ€è¦è‡ªå®šä¹‰ <strong>Model</strong> çš„åˆå§‹åŒ–å‡½æ•°ã€‚ï¼ˆè¿™ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨å¡ç‰‡æ•°ï¼Œä»¥åŠé€šè¿‡å¡ç‰‡ç´¢å¼•è·å–å¡ç‰‡å†…å®¹çš„å‡½æ•°ï¼‰</p>
<h5 id="Model-åˆå§‹åŒ–å™¨"><a href="#Model-åˆå§‹åŒ–å™¨" class="headerlink" title="Model åˆå§‹åŒ–å™¨"></a><code>Model</code> åˆå§‹åŒ–å™¨</h5><h6 id="1-For-å¾ªç¯"><a href="#1-For-å¾ªç¯" class="headerlink" title="1. For å¾ªç¯"></a><strong>1. For å¾ªç¯</strong></h6><p>æˆ‘ä»¬æƒ³è¦å¯¹æ¯å¼ åŸå¡ç‰‡ï¼Œå¡ç‰‡ç»„ä¸­éƒ½ä¼šæœ‰ä¸¤å¼ å­˜åœ¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>_</code> æ¥å¿½ç•¥å¾ªç¯çš„ç´¢å¼•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Use _ to ignore the pairIndex</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">_</span> <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">    cards.append(<span class="type">XXXX</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>XXXX</code> ä»£è¡¨çš„æ˜¯ <code>cardContentFactory</code> é€šè¿‡ <code>pairIndex</code> ç´¢å¼•è·å–åˆ°çš„å¡ç‰‡å†…å®¹ã€‚ä¸‹è¾¹ä¼šè®²å¦‚ä½•ä½¿ç”¨é—­åŒ…æ¥å®ç°è¯¥å‡½æ•°ã€‚</p>
<h6 id="2-é—­åŒ…è¯­æ³•"><a href="#2-é—­åŒ…è¯­æ³•" class="headerlink" title="2. é—­åŒ…è¯­æ³•"></a><strong>2. é—­åŒ…è¯­æ³•</strong></h6><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// MemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemoryGame</span>&lt;<span class="type">CardContent</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">cardContentFactory</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>) &#123;</span><br><span class="line">        cards <span class="operator">=</span> []</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add numberOfParisOfCards x 2 cards</span></span><br><span class="line">        <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">            <span class="keyword">let</span> content <span class="operator">=</span> cardContentFactory(pairIndex)</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åœ¨-ViewModel-ä¸­åˆå§‹åŒ–-Model-å˜é‡"><a href="#åœ¨-ViewModel-ä¸­åˆå§‹åŒ–-Model-å˜é‡" class="headerlink" title="åœ¨ ViewModel ä¸­åˆå§‹åŒ– Model å˜é‡"></a>åœ¨ <code>ViewModel</code> ä¸­åˆå§‹åŒ– <code>Model</code> å˜é‡</h5><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ– <code>model</code> å˜é‡ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">func</span> <span class="title function_">createCardContent</span>(<span class="params">forPairAtIndex</span> <span class="params">index</span>: <span class="type">Int</span>) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: createCardContent</span><br><span class="line">    )</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>MemoryGame</code> åˆå§‹åŒ–å™¨çš„ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¥å—æ•´æ•°å¹¶è¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚<code>createCardContent</code> æ˜¯ä¸€ä¸ªæ¥å—æ•´æ•°å¹¶è¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å®ƒä¼ å…¥ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>é—­åŒ…è¯­æ³•</strong>è®©å®ƒæ›´å˜å¾—æ›´ç®€æ´ä¸€äº›ï¼šå°† <code>createCardContent</code> å‡½æ•°å†…å®¹ç§»å…¥ç±»åˆå§‹åŒ–å‚æ•° <code>cardContentFactory</code> åï¼Œå¹¶å°†å‡½æ•°å¤§æ‹¬å· <code>&#123;&#125;</code> æ›¿æ¢ä¸º <code>in</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: &#123; (index: <span class="type">Int</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"><span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äº<strong>ç±»å‹æ¨æ–­</strong>ï¼Œè¾“å…¥å‚æ•°ä¸º <code>Int</code> ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ç±»å‹å£°æ˜ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å¯æŒ‰ä½ optionï¼Œå¹¶ click æŸ¥çœ‹ <code>Index</code> æ¨æ–­çš„ç±»å‹ä¸º <code>Int</code>ã€‚ç±»å‹æ¨æ–­åœ¨ç¬¬äºŒèŠ‚æœ‰è¯´æ˜ï¼š<a href="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/" title="Stanford cs193p 02 | More SwiftUI">Stanford cs193p 02 | More SwiftUI</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(</span><br><span class="line">        numberOfPairsOfCards: <span class="number">4</span>,</span><br><span class="line">        cardContentFactory: &#123; index <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"><span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ï¼Œç”±äº <code>cardContentFactory</code> æ˜¯è¿™ä¸ªå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>å°¾éšé—­åŒ…</strong>ï¼š</p>
<blockquote>
<p>å°¾éšé—­åŒ…åœ¨ç¬¬äºŒèŠ‚ç¬”è®°ä¸­æœ‰è¯´æ˜ï¼š<a href="/2024/11/21/Stanford-cs193p-02%EF%BD%9CMore-SwiftUI/" title="Stanford cs193p 02 | More SwiftUI">Stanford cs193p 02 | More SwiftUI</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="1-0"><a href="#1-0" class="headerlink" title="1. $0"></a><strong>1. $0</strong></h6><p>$0 æ˜¯ä¸€ä¸ªç”¨äºè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°çš„ç‰¹æ®Šå ä½ç¬¦ï¼Œè¿™é‡Œå¯ä½¿ç”¨ <code>$0</code> æ›¿ä»£ <code>index</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][index]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="comment">// If we use $0</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; <span class="variable">$0</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>][<span class="variable">$0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h6 id="2-é™æ€å˜é‡å’Œå‡½æ•°"><a href="#2-é™æ€å˜é‡å’Œå‡½æ•°" class="headerlink" title="2. é™æ€å˜é‡å’Œå‡½æ•°"></a><strong>2. é™æ€å˜é‡å’Œå‡½æ•°</strong></h6><p>å€˜è‹¥ï¼Œæˆ‘ä»¬è¿˜æƒ³ç®€åŒ–è¿™ä¸ªç±»çš„åˆå§‹åŒ–ï¼Œæƒ³å°†è¿™ä¸ªè¡¨æƒ…æ•°ç»„æå–ä¸ºä¸€ä¸ªå˜é‡ <code>emojis</code> ä½¿ç”¨ï¼Œ ä»¥ä¸‹ä»£ç  XCode ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>é”™è¯¯ä¿¡æ¯æ˜¯ â€œCannot use instance member â€˜emojisâ€™ within property initializer; property initializers run before â€˜selfâ€™ is availableâ€. <code>emojis</code> å’Œ <code>model</code> è¢«ç§°ä¸º property initializerã€‚<strong>ç”±äº property initialized çš„è¿è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ (ä¸æ˜¯æºä»£ç çš„é¡ºåº)ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå…ˆåˆå§‹åŒ– modelï¼Œä½†æ­¤æ—¶ emojis è¿˜æœªè¢«åˆå§‹åŒ–ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªåˆå§‹åŒ–å˜é‡å»åˆå§‹åŒ–å¦ä¸€ä¸ªã€‚</strong></p>
<p>é‚£ä¹ˆæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p>
<p><strong>ç¬¬ä¸€ç§æ–¹æ³•ï¼šå°† emojis è®¾ç½®ä¸ºä¸€ä¸ªå…¨å±€å˜é‡</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// EmojiMemoryGame.emojis[pairIndex]</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ä¼šæ±¡æŸ“å‘½åç©ºé—´ï¼Œå¯èƒ½ä¼šä¸å…¶ä»–å˜é‡æˆ–å¸¸é‡å‘ç”Ÿå‘½åå†²çªï¼Œéš¾ä»¥è°ƒè¯•ã€‚è€Œä¸”å…¨å±€å˜é‡å¯ä»¥åœ¨ä»»æ„ä½ç½®è¢«ä¿®æ”¹ï¼Œ<code>View</code> å’Œ <code>Model</code> ä¸­éƒ½å¯ä»¥ä¿®æ”¹ï¼Œå¯¼è‡´ä»£ç å¾ˆéš¾ç†è§£ï¼Œå› ä¸ºå˜é‡çš„çŠ¶æ€å¯èƒ½åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è¢«ä¿®æ”¹ã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†ä½¿å®ƒå…·æœ‰å¯å°è£…æ€§ï¼Œè¿˜æ˜¯å¾—å°†å®ƒæ”¾å›ç±» <code>class</code> ä¸­ã€‚</p>
<p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼šä½¿ç”¨å…³é”®å­— <code>static</code> æ¥è§£å†³</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³é”®å­— <code>static</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥è®© <code>emojis</code> å˜ä¸ºå…¨å±€å˜é‡ (äº‹å®ä¸Šè¢«ç§°ä¸º type variable) ä½†ä»…é™äºè¿™ä¸ªç±»çš„å†…éƒ¨è®¿é—®ã€‚è€Œä¸”å…¨å±€å˜é‡ä¼šè¢«ä¼˜å…ˆåˆå§‹åŒ–ï¼Œä¸ç”¨æ‹…å¿ƒåˆå§‹åŒ–å˜é‡çš„é¡ºåºé—®é¢˜ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">EmojiMemoryGame</span>.emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p><code>private</code> åˆ™å¯ä»¥è®²è¿™ä¸ªå˜é‡é™åˆ¶åœ¨ <code>class</code> å†…éƒ¨ä½¿ç”¨ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®æˆ–ä¿®æ”¹ã€‚æ­¤æ—¶ä¸å†éœ€è¦ <code>EmojiMemoryGame</code> æ¥è°ƒç”¨ <code>emojis</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">let</span> emojis <span class="operator">=</span> [<span class="string">&quot;ğŸ‘»&quot;</span>, <span class="string">&quot;ğŸƒ&quot;</span>, <span class="string">&quot;ğŸ•·ï¸&quot;</span>, <span class="string">&quot;ğŸ‰&quot;</span>,<span class="string">&quot;ğŸ˜„&quot;</span>, <span class="string">&quot;ğŸ˜&quot;</span>, <span class="string">&quot;ğŸ’©&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">        <span class="comment">// EmojiMemoryGame.emojis[pairIndex]</span></span><br><span class="line">        <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šç°åœ¨ <code>emojis</code> çš„å…¨åå…¶å®æ˜¯ <code>EmojiMemoryGame.emojis</code>.</p>
</blockquote>
<p>æˆ‘ä»¬ç°åœ¨å°†ä¸Šé¢çš„å˜é‡å˜æˆä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå­˜åœ¨ model é‡Œï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä¼šæœ‰ä¸€å †é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦å°†å‡½æ•°æ ‡è®°ä¸º <code>static</code> å¹¶å¢åŠ è¿”å›ç±»å‹ã€‚<strong>Swift æ˜¯ä¸å¯ä»¥æ¨æ–­è¿”å›ç±»å‹çš„ã€‚</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h6 id="3-â€œ-thingâ€"><a href="#3-â€œ-thingâ€" class="headerlink" title="3. â€œ.thingâ€"></a><strong>3. â€œ.thingâ€</strong></h6><blockquote>
<p>æ­¤å¤„ <code>.thing</code> æ˜¯è¡¥å……è¯´æ˜ <code>privat static</code>ï¼Œå¹¶ä¸æ¶‰åŠ <code>ViewModel</code> å’Œ <code>Model</code> çš„å®ç°</p>
</blockquote>
<p>å½“æˆ‘ä»¬çœ‹åˆ° â€œ.ä¸€ä¸ªä¸œè¥¿â€æ—¶, å®ƒåªæœ‰å¯èƒ½æ˜¯é™æ€å˜é‡æˆ–è€…æšä¸¾ç±»å‹ <code>enum</code>ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ContentView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line">.foregroundColor(.orange)</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ä»£ç ä¸­å‘ç°äº†ä¸€ä¸ª <code>.orange</code> ï¼Œå®ƒå®é™…ä¸ <code>Color.orange</code> çš„å«ä¹‰å®Œå…¨ç›¸åŒã€‚æˆ‘ä»¬å†æ‰“å¼€ Swift çš„å¼€å‘è€…æ–‡æ¡£ï¼š<br><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_static-let-orange.jpg"></p>
<p><code>.orange</code>ã€<code>.pink</code> å’Œ <code>.purple</code> éƒ½æ˜¯é™æ€ <code>static</code> å˜é‡ã€‚</p>
<h4 id="2-2-3-é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•"><a href="#2-2-3-é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•" class="headerlink" title="2.2.3 é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•"></a>2.2.3 é—®é¢˜è§£å†³ï¼šæ•°ç»„ä¸èƒ½è¶…å‡ºç´¢å¼•</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è®¿é—®æ•°ç»„æ—¶ä¸èƒ½è¶…å‡ºç´¢å¼•ï¼Œå› æ­¤éœ€è¦æ–°å¢ä¸€äº›é€»è¾‘ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">func</span> <span class="title function_">createMemoryGame</span>() -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>(numberOfPairsOfCards: <span class="number">4</span>) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> emojis.indices.contains(pairIndex) &#123;</span><br><span class="line">                <span class="keyword">return</span> emojis[pairIndex]</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;â‰ï¸&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åŒæ—¶å¸Œæœ›æœ‰è‡³å°‘ 4 å¼ å¡ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">cardContentFactory</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>) &#123;</span><br><span class="line">        cards <span class="operator">=</span> []</span><br><span class="line">        <span class="comment">// add numberOfParisOfCards x 2 cards</span></span><br><span class="line">        <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="built_in">max</span>(<span class="number">2</span>, numberOfPairsOfCards) &#123;</span><br><span class="line">            <span class="keyword">let</span> content <span class="operator">=</span> cardContentFactory(pairIndex)</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-åœ¨-View-ä¸­ä½¿ç”¨-ViewModel"><a href="#2-3-åœ¨-View-ä¸­ä½¿ç”¨-ViewModel" class="headerlink" title="2.3 åœ¨ View ä¸­ä½¿ç”¨ ViewModel"></a>2.3 åœ¨ View ä¸­ä½¿ç”¨ ViewModel</h3><blockquote>
<p>æ³¨æ„: æˆ‘ä»¬å°† ContentView.swift æ–‡ä»¶é‡å‘½åä¸ºäº† EmojiMemoryGameView.swift</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(emojis.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(content: emojis[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">String</span></span><br><span class="line">    <span class="meta">@State</span> <span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="type">Group</span> &#123;</span><br><span class="line">                base.fill(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(content).font(.largeTitle)</span><br><span class="line">            &#125;</span><br><span class="line">            .opacity(isFaceUp <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            base.fill().opacity(isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .onTapGesture &#123;</span><br><span class="line">            isFaceUp.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨éœ€è¦å¾ªç¯å¡ç‰‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.cards.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(card: viewModel.cards[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> card: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> base <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">12</span>)</span><br><span class="line">            <span class="type">Group</span> &#123;</span><br><span class="line">                base.fill(.white)</span><br><span class="line">                base.strokeBorder(lineWidth: <span class="number">2</span>)</span><br><span class="line">                <span class="type">Text</span>(card.content).font(.largeTitle)</span><br><span class="line">            &#125;</span><br><span class="line">            .opacity(card.isFaceUp <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">            base.fill().opacity(card.isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬ç°åœ¨æƒ³è¦æŸ¥çœ‹å¡ç‰‡çš„æ­£é¢ï¼Œåªéœ€è¦æ›´æ”¹ Model å³å¯ã€‚ï¼ˆ<code>MemorizeGame.swift</code> æ–‡ä»¶ï¼‰</p>
<h4 id="2-3-1-CardView-Struct-ä¼˜åŒ–"><a href="#2-3-1-CardView-Struct-ä¼˜åŒ–" class="headerlink" title="2.3.1 CardView Struct ä¼˜åŒ–"></a>2.3.1 CardView Struct ä¼˜åŒ–</h4><p>æˆ‘ä»¬è¿˜å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ CardViewã€‚è°ƒç”¨æ—¶éœ€è¦å†™ <code>card:</code> å¾ˆéº»çƒ¦ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">CardView</span>(card: viewModel.cards[index])</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„åˆå§‹åŒ–å‡½æ•°<code>init</code>å¿½ç•¥å‡½æ•°æ ‡ç­¾ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">85</span>))]) &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.cards.indices, id: \.<span class="keyword">self</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">                <span class="type">CardView</span>(viewModel.cards[index])</span><br><span class="line">                    .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">CardView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> card: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.card <span class="operator">=</span> card</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-æ”¾å¤§-Emoji"><a href="#2-3-2-æ”¾å¤§-Emoji" class="headerlink" title="2.3.2 æ”¾å¤§ Emoji"></a>2.3.2 æ”¾å¤§ Emoji</h4><p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_biggerEmoji.png"></p>
<h3 id="2-4-View-å’Œ-ViewModel-å…³è”ä¼˜åŒ–"><a href="#2-4-View-å’Œ-ViewModel-å…³è”ä¼˜åŒ–" class="headerlink" title="2.4 View å’Œ ViewModel å…³è”ä¼˜åŒ–"></a>2.4 <code>View</code> å’Œ <code>ViewModel</code> å…³è”ä¼˜åŒ–</h3><h4 id="2-4-1-MARK-Intents"><a href="#2-4-1-MARK-Intents" class="headerlink" title="2.4.1 MARK: - Intents"></a>2.4.1 <code>MARK: - Intents</code></h4><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>MAKR: - XXX</code> æ—¶ï¼Œ <code>-</code> å¯ä»¥åœ¨ Swift ä¸­çœ‹èµ·æ¥æœ‰ä¸€æ¡çº¿ä¸€æ ·ï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p><img src="/2024/12/09/Stanford-cs193p-04%EF%BD%9CMVVM-%E5%BA%94%E7%94%A8/cs193p04_mark.png"></p>
<h4 id="2-4-2-æ´—ç‰Œ"><a href="#2-4-2-æ´—ç‰Œ" class="headerlink" title="2.4.2 æ´—ç‰Œ"></a>2.4.2 æ´—ç‰Œ</h4><h5 id="ä¿®æ”¹-View-å’Œ-ViewModel"><a href="#ä¿®æ”¹-View-å’Œ-ViewModel" class="headerlink" title="ä¿®æ”¹ View å’Œ ViewModel"></a>ä¿®æ”¹ View å’Œ ViewModel</h5><p>å®ç°ï¼ˆä¿®æ”¹ï¼‰ ViewModel:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span> &#123;</span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">    <span class="comment">// MARK: - Intents</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        model.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°ï¼ˆä¿®æ”¹ï¼‰View:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Shuffle&quot;</span>) &#123;</span><br><span class="line">                viewModel.shuffle()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<h5 id="mutating"><a href="#mutating" class="headerlink" title="mutating"></a>mutating</h5><p>æˆ‘ä»¬éœ€è¦è®© Model æ”¯æŒæ´—ç‰Œçš„æ“ä½œã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        cards.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œ<code>self (Model)</code> æ˜¯ä¸å¯æ›´æ”¹çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  MemorizeGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        cards.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">...</span></span><br></pre></td></tr></table></figure>

<p>ä»»ä½•å‡½æ•°éœ€è¦ä¿®æ”¹ Model å¿…é¡»è¦è¢«æ ‡è®° <strong>mutating</strong> å…³é”®å­—ï¼Œå› ä¸ºè¿™ä¼šé€ æˆå†™æ—¶å¤åˆ¶ï¼ˆcopy on writeï¼‰ã€‚</p>
<h5 id="Reactive-UI"><a href="#Reactive-UI" class="headerlink" title="Reactive UI"></a>Reactive UI</h5><p><code>@ObservableObject</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGame.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EmojiMemoryGame</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">      <span class="meta">@Published</span> <span class="keyword">private</span> <span class="keyword">var</span> model <span class="operator">=</span> createMemoryGame()</span><br><span class="line">      <span class="operator">...</span></span><br><span class="line">    <span class="comment">// MARK: - Intents</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">shuffle</span>() &#123;</span><br><span class="line">        model.shuffle()</span><br><span class="line">        objectWillChange.send()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>objectWillChange.send()</code> ä¼šé€šçŸ¥ UI (View)ï¼Œæœ‰äº›ä¸œè¥¿å°†è¦å˜äº†ã€‚ <code>@Published</code> åˆ™åœ¨ä¸€äº›ä¸œè¥¿å˜åŠ¨å, è¯´ä¸€äº›ä¸œè¥¿å·²ç»å˜äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="operator">...</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span> <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">ScrollView</span> &#123;</span><br><span class="line">                cards</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Shuffle&quot;</span>) &#123;</span><br><span class="line">                viewModel.shuffle()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿéœ€è¦ç»™æˆ‘ä»¬çš„ <code>viewModel</code> å˜é‡æ·»åŠ  <code>@ObservedObject</code> ã€‚æ­¤å¤„ <code>@ObservedObject</code> çš„ä½œç”¨ä¼šè§‚å¯Ÿ <code>EmojiMemoryGame</code> ä¸­çš„ <code>@Published</code> å˜é‡å˜åŒ–ï¼Œå¦‚æœå‘ç”Ÿå˜åŒ–äº†ï¼Œåˆ™ä¼šé‡æ–°æ¸²æŸ“ UIã€‚</p>
<p><strong>é‡è¦æç¤ºï¼š</strong> æœ‰ä¸€ä¸ª <code>@ObservedObject</code> ç„¶åèµ‹å€¼ä¸€äº›ä¸œè¥¿æ˜¯<strong>éå¸¸ä¸å¥½</strong>çš„ä¹ æƒ¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span> <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br></pre></td></tr></table></figure>

<p><strong>æ­£ç¡®</strong> çš„æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">// EmojiMemoryGameView.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">EmojiMemoryGameView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">        <span class="operator">...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="type">Preview</span> &#123;</span><br><span class="line">	<span class="comment">//æ­¤å¤„åˆå§‹åŒ– viewModel å˜é‡ï¼Œæ¥è¿›è¡Œé¢„è§ˆ</span></span><br><span class="line">    <span class="type">EmojiMemoryGameView</span>(viewModel: <span class="type">EmojiMemoryGame</span>())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹ Appï¼š</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  MemorizeApp.swift</span></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">@main</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MemorizeApp</span>: <span class="title class_ inherited__">App</span> &#123;</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ– viewModel å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">var</span> game <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">Scene</span> &#123;</span><br><span class="line">        <span class="type">WindowGroup</span> &#123;</span><br><span class="line">            <span class="type">EmojiMemoryGameView</span>(viewModel: game)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@StateObject</code> æ„æ€æ˜¯ä½ ä¸èƒ½å’Œå…¶ä»– <code>View</code> å…±äº«è¿™ä¸ªå¯¹è±¡ã€‚</p>
<h5 id="ç»­ç¬¬äº”èŠ‚è¯¾ï¼š-ObservedObject-å’Œ-StateObject-åŒºåˆ«"><a href="#ç»­ç¬¬äº”èŠ‚è¯¾ï¼š-ObservedObject-å’Œ-StateObject-åŒºåˆ«" class="headerlink" title="ç»­ç¬¬äº”èŠ‚è¯¾ï¼š@ObservedObject å’Œ @StateObject åŒºåˆ«"></a>ç»­ç¬¬äº”èŠ‚è¯¾ï¼š<code>@ObservedObject</code> å’Œ <code>@StateObject</code> åŒºåˆ«</h5><p><strong>1. ç¤ºä¾‹ï¼ˆéè¯¾ä»¶å†…å®¹ï¼‰</strong></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span>: <span class="title class_ inherited__">ObservableObject</span> &#123;</span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">var</span> value <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ParentView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@StateObject</span> <span class="keyword">private</span> <span class="keyword">var</span> counter <span class="operator">=</span> <span class="type">Counter</span>() <span class="comment">// ç”±çˆ¶è§†å›¾è´Ÿè´£åˆ›å»ºå’Œç®¡ç†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ChildView</span>(counter: counter) <span class="comment">// å°† ObservableObject ä¼ é€’ç»™å­è§†å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ChildView</span>: <span class="title class_ inherited__">View</span> &#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> counter: <span class="type">Counter</span> <span class="comment">// è§‚å¯Ÿçˆ¶è§†å›¾ä¼ é€’è¿‡æ¥çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="string">&quot;Counter: <span class="subst">\(counter.value)</span>&quot;</span>)</span><br><span class="line">            <span class="type">Button</span>(<span class="string">&quot;Increment&quot;</span>) &#123;</span><br><span class="line">                counter.value <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><code>ParentView</code></strong> åˆ›å»ºå¹¶ç®¡ç† <code>Counter</code> çš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
<li><strong><code>ChildView</code></strong> ä½¿ç”¨ <code>@ObservedObject</code> è§‚å¯Ÿä¼ å…¥çš„ <code>Counter</code> å®ä¾‹ï¼Œä½†ä¸è´Ÿè´£ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸã€‚</li>
</ul>
<p>ä½¿ç”¨ <code>@StateObject</code> å’Œ <code>@ObservedObject</code> çš„æ ¸å¿ƒåœ¨äºå¯¹<strong>ç”Ÿå‘½å‘¨æœŸçš„ç†è§£</strong>ï¼Œç¡®ä¿åœ¨åˆé€‚çš„ä¸Šä¸‹æ–‡ä¸­ç®¡ç†å’Œè§‚å¯Ÿæ•°æ®ã€‚</p>
<p><strong>2. æ€»ç»“</strong></p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>@ObservedObject</code></th>
<th><code>@StateObject</code></th>
</tr>
</thead>
<tbody><tr>
<td><strong>è´Ÿè´£å®ä¾‹åˆ›å»º</strong></td>
<td>å¦ï¼šåªè§‚å¯Ÿä¼ å…¥çš„ <code>ObservableObject</code></td>
<td>æ˜¯ï¼šè´Ÿè´£åˆ›å»ºå¹¶ç®¡ç† <code>ObservableObject</code> çš„ç”Ÿå‘½å‘¨æœŸ</td>
</tr>
<tr>
<td><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></td>
<td>ä¸ç®¡ç†ï¼Œä¾èµ–äºå¤–éƒ¨å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸ</td>
<td>è‡ªåŠ¨ç®¡ç†ï¼Œå½“è§†å›¾é”€æ¯æ—¶ï¼Œ<code>ObservableObject</code> ä¹Ÿé”€æ¯</td>
</tr>
<tr>
<td><strong>åˆå§‹åŒ–æ—¶æœº</strong></td>
<td>å¤–éƒ¨ä¼ å…¥å®ä¾‹ï¼Œå¿…é¡»åœ¨å¤–éƒ¨å·²åˆ›å»º</td>
<td>ä»…åœ¨è§†å›¾é¦–æ¬¡åˆå§‹åŒ–æ—¶åˆ›å»ºä¸€æ¬¡</td>
</tr>
<tr>
<td><strong>ä½¿ç”¨åœºæ™¯</strong></td>
<td>å­è§†å›¾ï¼šè§‚å¯Ÿç”±çˆ¶è§†å›¾ä¼ é€’çš„ <code>ObservableObject</code> å®ä¾‹</td>
<td>çˆ¶è§†å›¾ï¼šåˆ›å»ºå¹¶ç®¡ç†è‡ªå·±çš„ <code>ObservableObject</code> å®ä¾‹</td>
</tr>
<tr>
<td><strong>é‡å¤æ¸²æŸ“</strong></td>
<td>æ¯æ¬¡è§†å›¾åˆ·æ–°æ—¶ï¼Œè§‚å¯Ÿç›¸åŒçš„å®ä¾‹</td>
<td>ä¸ä¼šåœ¨è§†å›¾åˆ·æ–°æ—¶é‡å¤åˆ›å»º <code>ObservableObject</code></td>
</tr>
</tbody></table>
<ul>
<li><code>@StateObject</code> é€‚ç”¨äºå½“å‰è§†å›¾éœ€è¦è‡ªå·±åˆ›å»ºå¹¶ç®¡ç† <code>ObservableObject</code> å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¸¸ç”¨äºçˆ¶è§†å›¾æˆ–ç‹¬ç«‹è§†å›¾ã€‚</li>
<li><code>@ObservedObject</code>é€‚ç”¨äºè§‚å¯Ÿç”±å¤–éƒ¨ä¼ é€’çš„ <code>ObservableObject</code>ï¼Œå¸¸ç”¨äºå­è§†å›¾ã€‚</li>
<li><code>@ObservedObject</code> å’Œ <code>@StateObject</code> éƒ½æ˜¯ç”¨äºè§‚å¯Ÿ <code>ObservableObject</code> çš„å±æ€§åŒ…è£…å™¨ï¼Œä½†å®ƒä»¬æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†æ–¹å¼ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>code</category>
        <category>swift</category>
      </categories>
      <tags>
        <tag>cs193p</tag>
      </tags>
  </entry>
</search>
